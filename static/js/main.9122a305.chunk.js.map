{"version":3,"sources":["integration/kernel.ts","integration/featureFlags.ts","images/errors/error-robotmobile.png","components/errors/ErrorAvatarLoading.tsx","images/errors/error-robotdown.png","components/errors/ErrorComms.tsx","components/errors/ErrorFatal.tsx","images/errors/robotsmiling.png","components/errors/ErrorMetamaskLocked.tsx","components/errors/ErrorNetworkMismatch.tsx","components/errors/ErrorNewLogin.tsx","components/errors/ErrorNoMobile.tsx","components/errors/ErrorNotSupported.tsx","components/errors/ErrorContainer.tsx","components/common/Layout/Container.tsx","components/auth/EthConnectAdvice.tsx","components/auth/EthWalletSelector.tsx","images/guest.jpg","images/wallets.jpg","components/auth/LoginItemContainer.tsx","components/auth/LoginContainer.tsx","images/logo.png","components/common/Audio.tsx","components/common/Layout/Accordion.tsx","components/auth/BeginnersGuide.tsx","components/common/Icon/Reddit.tsx","components/common/Icon/Github.tsx","components/common/Icon/Twitter.tsx","components/common/Icon/Discord.tsx","components/common/Layout/BigFooter.tsx","components/banners/BannerNotSupported.tsx","components/banners/BannerContainer.tsx","components/common/Loading/LoadingRender.tsx","components/common/Button/JoinDiscord.tsx","components/common/Layout/Navbar.tsx","components/banners/BannerStream.tsx","components/common/StreamContainer.tsx","components/App.tsx","index.tsx","state/reducers.ts","state/redux.ts","state/actions.ts","kernel-loader/index.ts","utils/rolloutVersions.ts","integration/desktop.ts","utils/tracking.ts","kernel-loader/injector.ts","integration/queryParamsConfig.ts","integration/browser.ts","utils/callOnce.ts","integration/analytics.ts","utils/errorToString.ts","state/selectors.ts","eth/provider.ts","state/types.ts"],"names":["initializeKernel","callOnce","startKernel","id","callback","element","document","getElementById","style","opacity","setTimeout","display","fadeoutElement","ROOT_HIDDEN","initializeFeatureFlags","a","fetchFlags","applicationName","FF_APPLICATION_NAME","ff","store","dispatch","setFeatureFlags","ErrorAvatarLoading","className","href","alt","src","errorImage","ErrorComms","onClick","window","location","reload","defaultDetails","ErrorFatal","props","details","length","map","$","ix","key","ErrorMetamaskLocked","closeError","ErrorNetworkMismatch","NETWORK","onLogout","ErrorNewLogin","ErrorNoMobile","zIndex","width","height","backgroundColor","position","margin","ErrorNotSupported","connect","state","error","setKernelError","disconnect","type","ErrorType","COMMS","METAMASK_LOCKED","NEW_LOGIN","NOT_MOBILE","NOT_SUPPORTED","NET_MISMATCH","AVATAR_ERROR","Fragment","Container","Content","EthConnectAdvice","React","memo","provider","ProviderType","FORTMATIC","INJECTED","WALLET_CONNECT","EthWalletSelector","open","loading","availableProviders","onLogin","onCancel","anchor","useMemo","createElement","target","rel","browserWallet","includes","isCucumberProvider","LoginModalOptionType","SAMSUNG","isDapperProvider","DAPPER","METAMASK","handleLoginWalletConnect","useCallback","handleLoginFortmatic","handleLoginInjected","click","LoginModal","onClose","i18n","title","subtitle","Loader","active","size","isElectron","Option","LoginItemContainer","children","useState","cancel","setCancel","handleCancel","undefined","marginTop","Button","LoginWalletItem","wallets","primary","disabled","LoginGuestItem","guest","defaultAvailableProviders","enableProviders","Set","connection","getAvailableProviders","filter","has","stage","session","kernelState","loginStatus","providerType","kernelReady","kernel","ready","rendererReady","renderer","isGuest","isWallet","track","provider_type","authenticate","onCancelLogin","then","showWalletSelector","setShowWalletSelector","onSelect","onGuest","LoginState","SIGNATURE_PENDING","WAITING_PROFILE","WAITING_RENDERER","LOADING","providerInUse","AUTHENTICATING","desktopAvailable","isWindows","COMPLETED","visibility","textDecoration","Audio","player","this","updatePlayer","play","catch","e","pause","ref","audio","autoPlay","loop","Component","Accordion","setOpen","useRef","current","offsetHeight","BeginnersGuide","Reddit","viewBox","fill","d","transform","Github","Twitter","Discord","year","Math","max","Date","getFullYear","BigFooter","versions","injectVersions","JSON","stringify","BannerNotSupported","banner","setBanner","BannerType","NOT_RECOMMENDED","LoadingRender","JoinDiscord","Navbar","isFullscreen","leftMenu","Item","preventDefault","Base","defaultProps","menu","marketplace","builder","docs","events","dao","blog","rightMenu","BannerStream","getFeatureVariant","FeatureFlags","Stream","setSize","useEffect","root","resize","innerHeight","innerWidth","addEventListener","removeEventListener","replace","allowFullScreen","hasStream","hasBanner","sessionReady","sound","mobile","isMobile","small","useMobileMediaQuery","process","configureSegment","configureRollbar","subscribe","hideRoot","getState","ReactDOM","initializeBrowserRecommendation","initializeDesktopApp","defaultSession","sessionId","v4","DownloadCurrentState","reducers","combineReducers","action","SET_KERNEL_LOADED","payload","SET_KERNEL_ACCOUNT_STATE","SIGN_UP","getConnectionData","SET_RENDERER_READY","SET_RENDERER_VISIBLE","visible","SET_RENDERER_LOADING","version","SET_KERNEL_ERROR","errorToString","code","SET_BANNER","download","defaultDownload","progress","currentState","NONE","authCompleted","SET_DOWNLOAD_PROGRESS","DOWNLOADING","SET_DOWNLOAD_READY","READY","SET_DOWNLOAD_NEW_VERSION","NEW_VERSION","electron","ipcRenderer","send","EXECUTED","featureFlags","defaultFeatureFlagsState","SET_FEATURE_FLAGS","result","flags","variants","middleware","x","createStore","setKernelAccountState","accountState","setKernelLoaded","setRendererLoading","progressEvent","setRendererReady","setDownloadProgress","setDownloadReady","setDownloadNewVersion","getChainIdFromProvider","rm","RequestManager","parseInt","net_version","getWantedChainId","chainId","wantedChainId","getEthereumProvider","providerChainId","Error","setAsRecentlyLoggedIn","message","defaultWebsiteErrorTracker","resolveBaseUrl","urn","startsWith","resolveUrlFromUrn","t","URL","global","toString","cdnFromRollout","rollout","cdnFromPrefixVersion","prefix","getVersions","qs","URLSearchParams","search","globalThis","ROLLOUTS","KERNEL_BASE_URL","RENDERER_BASE_URL","get","name","identify","lastIdentity","identifyUser","email","container","injectKernel","baseUrl","configurations","kernelOptions","rendererOptions","on","eventName","eventData","internalTrackEvent","context","url","newWindow","opener","account","identity","address","data","trackError","extra","disableAnalytics","event","restoreConnection","hasStoredSession","FATAL","ENV","require","launchDesktopApp","launched","initKernel","initLogin","rolloutsInfo","component","navigator","userAgent","indexOf","sender","console","log","hasRecentlyLoggedIn","getCurrentPosition","customProtocolParams","push","realm","customProtocolTarget","join","installed","isInstalled","iframe","setAttribute","body","appendChild","Promise","resolve","removeChild","ethereum","rollouts","getWalletName","isMetaMask","isDapper","isCucumber","isTrust","isToshi","isGoWallet","isAlphaWallet","isStatus","getWalletProps","Object","keys","prop","getEnvironmentProperties","properties","rendererType","RENDERER_TYPE","lib","wallet","walletProps","recommendedBrowser","isRecommendedBrowser","environmentProperties","options","kernelUrl","injectScript","DecentralandKernel","theFuture","future","theScript","persistMessage","async","crossOrigin","reject","DEBUG_ANALYTICS","test","platform","maxTouchPoints","detected","detect","BROWSER_LAST_SESSION_KEY","lastLoginAt","Number","localStorage","getItem","isNaN","now","setItem","String","userAgentData","fun","value","AnalyticsAccount","RollbarAccount","analyticsDisabled","authFlags","isAuthenticated","afterFatalError","host","endsWith","initialize","PRD","DEV","injectTrackingMetadata","assign","dcl_is_authenticated","dcl_is_guest","dcl_disabled_analytics","dcl_renderer_type","Rollbar","accessToken","Desktop","Web","configure","enabled","info","critical","fullErrorStack","analytics","userTraits","getRequiredAnalyticsContext","segmentKey","load","page","timeout","prototype","call","isFeatureEnabled","defaultValue","variant","chainIdRpc","Map","rpc","WebSocketProvider","race","tryPreviousConnection","_"],"mappings":"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","file":"static/js/main.9122a305.chunk.js","sourcesContent":["import { Store } from \"redux\"\nimport { StoreType } from \"../state/redux\"\nimport { startKernel } from \"../kernel-loader\"\nimport { callOnce } from \"../utils/callOnce\"\n\nfunction fadeoutElement(id: string, callback?: () => void) {\n  const element = document.getElementById(id)\n  if (element) {\n    element.style.opacity = '0'\n    setTimeout(() => {\n      element.style.display = 'none'\n      if (callback) {\n        callback()\n      }\n    }, 300)\n  }\n}\n\nexport const initializeKernel = callOnce(() => {\n  startKernel()\n  fadeoutElement('root-loading')\n})\n\nexport function configureKernel(store: Store<StoreType>) {\n  store.subscribe(() => hideRoot(store.getState()))\n}\n\nlet ROOT_HIDDEN = false\nfunction hideRoot (state: StoreType) {\n  const sessionReady = !!state.session?.ready\n  const rendererReady = !!state.renderer?.ready\n  const error = !!state.error?.error\n\n  if (!ROOT_HIDDEN && !error && !!rendererReady && !!sessionReady) {\n    ROOT_HIDDEN = true\n    document.getElementById('root')!.style.display = 'none'\n  } else if (ROOT_HIDDEN && (!!error || !rendererReady || !sessionReady)) {\n    ROOT_HIDDEN = false\n    document.getElementById('root')!.style.display = 'block'\n  }\n}","import { fetchFlags } from '@dcl/feature-flags'\nimport { setFeatureFlags } from '../state/actions'\nimport { store } from '../state/redux'\nimport { FF_APPLICATION_NAME } from '../state/types'\nimport { callOnce } from \"../utils/callOnce\"\n\nexport const initializeFeatureFlags = callOnce(async () => {\n  const ff = await fetchFlags({ applicationName: FF_APPLICATION_NAME })\n  store.dispatch(setFeatureFlags(ff))\n})","export default __webpack_public_path__ + \"static/media/error-robotmobile.9df34375.png\";","import React from 'react'\n\nimport './errors.css'\nimport errorImage from '../../images/errors/error-robotmobile.png'\n\nexport const ErrorAvatarLoading: React.FC = () => (\n  <div id=\"error-avatarerror\" className=\"error-container\">\n    <div className=\"error-background\" />\n    <div className=\"errormessage\">\n      <div className=\"errortext col\">\n        <div className=\"error\">Oops...</div>\n        <div className=\"communicationslink\">\n          There was a technical issue and we were unable to retrieve your avatar information\n        </div>\n        <div className=\"givesomedetailof\">\n          Please try again later, and if the problem persists you can contact us through the Discord channel or at{' '}\n          <a href=\"mailto:hello@decentraland.org\">hello@decentraland.org</a>\n        </div>\n      </div>\n      <div className=\"errorimage col\">\n        <img alt=\"\" className=\"error-image\" src={errorImage} />\n      </div>\n    </div>\n  </div>\n)\n","export default __webpack_public_path__ + \"static/media/error-robotdown.ee4685c4.png\";","import React from 'react'\nimport './errors.css'\nimport errorImage from '../../images/errors/error-robotdown.png'\n\nexport const ErrorComms: React.FC = () => (\n  <div id=\"error-comms\" className=\"error-container\">\n    <div className=\"error-background\" />\n    <div className=\"errormessage\">\n      <div className=\"errortext col\">\n        <div className=\"error\">Oops</div>\n        <div className=\"communicationslink\">\n          A communication link could not be\n          <br />\n          established with other peers\n        </div>\n        <div className=\"givesomedetailof\">\n          This might be because you are behind a restrictive network firewall, or a temporary problem with the selected realm. <br />\n          <br />\n          If you have any ad blocking extensions try turning them off for this site, and then reload.\n          <br />\n          You can also try a different realm.\n        </div>\n        <div className=\"cta\">\n          <button\n            className=\"retry\"\n            onClick={() => {\n              window.location.reload()\n            }}\n          >\n            Reload\n          </button>\n        </div>\n      </div>\n      <div className=\"errorimage col\">\n        <div className=\"imagewrapper\">\n          <img alt=\"\" className=\"error-image\" src={errorImage} />\n        </div>\n      </div>\n    </div>\n  </div>\n)\n","import React from 'react'\n\nimport './errors.css'\nimport errorImage from '../../images/errors/error-robotdown.png'\n\nconst defaultDetails: (string | JSX.Element)[] = [\n  'If you have any ad blocking extensions,',\n  'try turning them off for this site.',\n  '',\n  'Loading should not take any longer than 2-3 minutes.',\n  'If you seem to be stuck, make sure hardware acceleration is on.',\n  <a href=\"https://docs.decentraland.org/decentraland/hardware-acceleration/\">LEARN MORE</a>\n]\n\nexport const ErrorFatal = (props: { details?: typeof defaultDetails }) => {\n  const details = props.details && props.details.length ? props.details : defaultDetails\n\n  return (\n    <div id=\"error-fatal\" className=\"error-container\">\n      <div className=\"error-background\" />\n      <div className=\"errormessage\">\n        <div className=\"errortext col\">\n          <div className=\"error\">Oops!</div>\n          <div className=\"communicationslink\">Something went wrong</div>\n          <div className=\"givesomedetailof\">\n            {details.map(($, ix) => (\n              <div key={ix}>{$}</div>\n            ))}\n          </div>\n          <div className=\"cta\">\n            <button\n              className=\"retry\"\n              onClick={() => {\n                window.location.reload()\n              }}\n            >\n              Reload\n            </button>\n          </div>\n        </div>\n        <div className=\"errorimage col\">\n          <div className=\"imagewrapper\">\n            <img alt=\"\" className=\"error-image\" src={errorImage} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/robotsmiling.e182d216.png\";","import React from 'react'\n\nimport './errors.css'\nimport errorImage from '../../images/errors/robotsmiling.png'\n\nexport interface ErrorNetworkMismatchProps {\n  details: string | null\n  closeError(): void\n}\n\nexport const ErrorMetamaskLocked: React.FC<ErrorNetworkMismatchProps> = (props: ErrorNetworkMismatchProps) => {\n  return (\n    <div id=\"error-networkmismatch\" className=\"error-container\">\n      <div className=\"error-background\" />\n      <div className=\"errormessage\">\n        <div className=\"errortext col\">\n          <div className=\"communicationslink\">Before we continue</div>\n          {props.details && <div className=\"givesomedetailof\">{props.details}</div>}\n          <div className=\"cta\">\n            <button className=\"retry\" onClick={props.closeError}>\n              Retry\n            </button>\n          </div>\n        </div>\n        <div className=\"errorimage col\">\n          <div className=\"imagewrapper\">\n            <img alt=\"\" className=\"error-image\" src={errorImage} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport './errors.css'\nimport errorImage from '../../images/errors/robotsmiling.png'\nimport { NETWORK } from '../../integration/queryParamsConfig'\n\nexport interface ErrorNetworkMismatchProps {\n  details: string | null\n  onLogout: () => void\n}\n\nexport const ErrorNetworkMismatch: React.FC<ErrorNetworkMismatchProps> = (props: ErrorNetworkMismatchProps) => {\n  return (\n    <div id=\"error-networkmismatch\" className=\"error-container\">\n      <div className=\"error-background\" />\n      <div className=\"errormessage\">\n        <div className=\"errortext col\">\n          <div className=\"communicationslink\">A network mismatch was detected</div>\n          <div className=\"givesomedetailof\">\n            We detected that you are trying to enter the <strong id=\"tld\">{NETWORK || 'mainnet'}</strong> network, and\n            your Ethereum wallet is set to other network.\n          </div>\n          <div className=\"givesomedetailof\">\n            To continue, please change the Ethereum network in your wallet to{' '}\n            <strong id=\"web3NetGoal\">{NETWORK || 'mainnet'}</strong> and click \"Reload\".\n          </div>\n          {props.details && <div className=\"givesomedetailof\">Details: {props.details}</div>}\n          <div className=\"cta\">\n            <button\n              className=\"retry\"\n              onClick={() => {\n                window.location.reload()\n              }}\n            >\n              Reload\n            </button>\n            <br />\n            <button className=\"retry\" onClick={() => props.onLogout({ reload: true })}>\n              Log out\n            </button>\n          </div>\n        </div>\n        <div className=\"errorimage col\">\n          <div className=\"imagewrapper\">\n            <img alt=\"\" className=\"error-image\" src={errorImage} />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport './errors.css'\nimport errorImage from '../../images/errors/robotsmiling.png'\n\nexport const ErrorNewLogin: React.FC = () => (\n  <div id=\"error-newlogin\" className=\"error-container\">\n    <div className=\"error-background\" />\n    <div className=\"errormessage\">\n      <div className=\"errortext col\">\n        <div className=\"error communicationslink\">Another session was detected</div>\n        <div className=\"givesomedetailof\">\n          It seems that the explorer was opened with your account from another device, browser, or tab.\n          <br />\n          Please, close the prior session and click \"Reload\" to explore the world in this window.\n        </div>\n        <div className=\"cta\">\n          <button\n            className=\"retry\"\n            onClick={() => {\n              window.location.reload()\n            }}\n          >\n            Reload\n          </button>\n        </div>\n      </div>\n      <div className=\"errorimage col\">\n        <div className=\"imagewrapper\">\n          <img alt=\"\" className=\"error-image\" src={errorImage} />\n        </div>\n      </div>\n    </div>\n  </div>\n)\n","import React from 'react'\n\nimport './errors.css'\nimport errorImage from '../../images/errors/error-robotmobile.png'\n\nexport const ErrorNoMobile: React.FC = () => (\n  <div id=\"error-nomobile\" className=\"hidden-error\">\n    <div\n      className=\"error-background\"\n      style={{\n        zIndex: 10,\n        width: '100%',\n        height: '100%',\n        backgroundColor: '#0d0c0f'\n      }}\n    />\n    <div className=\"iphone8916\" style={{ zIndex: 11 }}>\n      <div\n        className=\"div1\"\n        style={{\n          width: '375px',\n          height: '100%',\n          position: 'relative',\n          margin: 'auto'\n        }}\n      >\n        <div className=\"theclientisonlya\">The client is only available on desktop right now.</div>\n        <img alt=\"\" className=\"robotmobilebrowsererror\" src={errorImage} />\n        <div className=\"cta\">\n          <div\n            className=\"signup\"\n            onClick={() => {\n              window.location.href = 'https://decentraland.org'\n            }}\n          >\n            Learn more about decentraland\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n)\n","import React from 'react'\n\nimport './errors.css'\nimport errorImage from '../../images/errors/error-robotmobile.png'\n\nexport const ErrorNotSupported: React.FC = () => (\n  <div id=\"error-notsupported\" className=\"error-container\">\n    <div className=\"error-background\" />\n    <div className=\"errormessage\">\n      <div className=\"errortext col\">\n        <div className=\"error\">Error</div>\n        <div className=\"communicationslink\">Your browser or device is not supported</div>\n        <div className=\"givesomedetailof\">\n          The Explorer only works on Chrome or Firefox for Windows, Linux and macOS.\n        </div>\n      </div>\n      <div className=\"errorimage col\">\n        <img alt=\"\" className=\"error-image\" src={errorImage} />\n      </div>\n    </div>\n  </div>\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setKernelError } from '../../state/actions'\nimport { disconnect } from '../../eth/provider'\nimport { ErrorState, ErrorType, StoreType } from '../../state/redux'\nimport { ErrorAvatarLoading } from './ErrorAvatarLoading'\nimport { ErrorComms } from './ErrorComms'\nimport { ErrorFatal } from './ErrorFatal'\nimport { ErrorMetamaskLocked } from './ErrorMetamaskLocked'\nimport { ErrorNetworkMismatch } from './ErrorNetworkMismatch'\nimport { ErrorNewLogin } from './ErrorNewLogin'\nimport { ErrorNoMobile } from './ErrorNoMobile'\nimport { ErrorNotSupported } from './ErrorNotSupported'\n\nconst mapStateToProps = (state: StoreType): Pick<ErrorContainerProps, 'error'> => {\n  return {\n    error: state.error.error || null\n  }\n}\n\nconst mapDispatchToProps = (dispatch: (a: any) => void, state: StoreType): Pick<ErrorContainerProps, 'closeError' | 'onLogout'> => {\n  return {\n    closeError: () => dispatch(setKernelError(null)),\n    onLogout: () => disconnect()\n  }\n}\n\nexport interface ErrorContainerProps {\n  error: ErrorState['error']\n  onLogout(): void\n  closeError(): void\n}\n\nexport const ErrorContainer: React.FC<ErrorContainerProps> = (props) => {\n  if (!props.error) return <React.Fragment></React.Fragment>\n\n  if (props.error.type === ErrorType.COMMS) return <ErrorComms />\n  if (props.error.type === ErrorType.METAMASK_LOCKED)\n    return <ErrorMetamaskLocked details={props.error.details} closeError={props.closeError} />\n  if (props.error.type === ErrorType.NEW_LOGIN) return <ErrorNewLogin />\n  if (props.error.type === ErrorType.NOT_MOBILE) return <ErrorNoMobile />\n  if (props.error.type === ErrorType.NOT_SUPPORTED) return <ErrorNotSupported />\n  if (props.error.type === ErrorType.NET_MISMATCH)\n    return <ErrorNetworkMismatch details={props.error.details} onLogout={props.onLogout} />\n  if (props.error.type === ErrorType.AVATAR_ERROR) return <ErrorAvatarLoading />\n\n  return (\n    <React.Fragment>\n      <ErrorFatal details={[props.error.details || 'An error happened while loading Decentraland.']} />\n    </React.Fragment>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorContainer)\n","import React from 'react'\nimport './Container.css'\n\nexport const Container: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props) => (\n  <div {...props} className={'eth-container ' + (props.className || '')} />\n)\n\nexport const Content: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props) => (\n  <div {...props} className={'eth-content ' + (props.className || '')} />\n)\n","import React from 'react'\nimport { ProviderType } from '@dcl/schemas/dist/dapps/provider-type'\n\nexport type EthWalletSelectorAdviceProps = {\n  provider?: ProviderType\n  style?: React.CSSProperties\n}\n\nexport const EthConnectAdvice = React.memo((props: EthWalletSelectorAdviceProps) => {\n  switch (props.provider) {\n    case ProviderType.FORTMATIC:\n      return <span className=\"EthConnectAdvice\" style={props.style}>\n        Please, follow the instructions of your fortmatic provider to continue.\n      </span>\n\n    case ProviderType.INJECTED:\n      return <span className=\"EthConnectAdvice\" style={props.style}>\n        Please, follow the instructions of your browser wallet provider to continue.\n      </span>\n\n    case ProviderType.WALLET_CONNECT:\n      return <span className=\"EthConnectAdvice\" style={props.style}>\n        Please, follow the instructions of your mobile wallet provider to continue.\n      </span>\n\n    default:\n      return null\n  }\n})","import React, { useCallback, useMemo } from 'react'\nimport { ProviderType } from '@dcl/schemas/dist/dapps/provider-type'\nimport { isCucumberProvider, isDapperProvider } from 'decentraland-dapps/dist/lib/eth'\nimport { Loader } from 'decentraland-ui/dist/components/Loader/Loader'\nimport { LoginModal, LoginModalOptionType } from 'decentraland-ui/dist/components/LoginModal/LoginModal'\nimport { isElectron } from '../../integration/desktop'\nimport { EthConnectAdvice } from './EthConnectAdvice'\n\nexport interface WalletSelectorProps {\n  open: boolean\n  loading: boolean\n  provider?: ProviderType\n  availableProviders?: ProviderType[]\n  onLogin?: (provider: ProviderType | null) => void\n  onCancel?: () => void\n}\n\nexport const EthWalletSelector: React.FC<WalletSelectorProps> = React.memo(({\n  open,\n  loading,\n  provider,\n  availableProviders,\n  onLogin,\n  onCancel\n}) => {\n  const anchor = useMemo(() => {\n    const a = document.createElement('a')\n    a.target = '_blank'\n    a.rel = 'noreferrer noopener'\n    a.href = 'https://metamask.io/download.html'\n    return a\n  }, [])\n\n  const browserWallet = useMemo<LoginModalOptionType | null>(() => {\n    if (availableProviders && availableProviders.length > 0) {\n      const hasWallet = availableProviders.includes(ProviderType.INJECTED)\n      if (hasWallet) {\n        return isCucumberProvider() ? LoginModalOptionType.SAMSUNG :\n          isDapperProvider() ? LoginModalOptionType.DAPPER :\n          LoginModalOptionType.METAMASK\n      }\n    }\n\n    return null\n  }, [ availableProviders ])\n\n  const handleLoginWalletConnect = useCallback(() => onLogin && onLogin(ProviderType.WALLET_CONNECT), [ onLogin ])\n  const handleLoginFortmatic = useCallback(() => onLogin && onLogin(ProviderType.FORTMATIC), [ onLogin ])\n  const handleLoginInjected = useCallback(() => {\n    if (browserWallet && onLogin) {\n      onLogin(ProviderType.INJECTED)\n    } else {\n      anchor.click()\n    }\n  }, [ onLogin,browserWallet, anchor ])\n\n  return <LoginModal\n    open={open}\n    onClose={onCancel}\n    i18n={{\n      title: 'Connect your wallet',\n      error: '',\n      subtitle: ''\n    }}\n  >\n      {loading && <div className=\"loader-background\">\n        <EthConnectAdvice provider={provider} />\n      </div>}\n      {loading && <Loader active={loading} provider={provider} size=\"massive\" />}\n      {!isElectron() && <LoginModal.Option type={browserWallet || LoginModalOptionType.METAMASK} onClick={handleLoginInjected} />}\n      <LoginModal.Option type={LoginModalOptionType.FORTMATIC} onClick={handleLoginFortmatic} />\n      <LoginModal.Option type={LoginModalOptionType.WALLET_CONNECT} onClick={handleLoginWalletConnect}  />\n      <small className=\"message\">Trezor and smart contract wallets like Dapper, Argent or Gnosis safe, do not work with Polygon. Read more about the Trezor support status\n        {' '}\n        <a\n          href=\"https://github.com/trezor/trezor-firmware/pull/1568\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\">\n          {'here'}\n        </a>.\n      </small>\n    </LoginModal>\n})\n","export default __webpack_public_path__ + \"static/media/guest.6eb48000.jpg\";","export default __webpack_public_path__ + \"static/media/wallets.96b87835.jpg\";","import React, { useCallback, useState } from 'react'\nimport { ProviderType } from '@dcl/schemas/dist/dapps/provider-type'\nimport { Button } from 'decentraland-ui/dist/components/Button/Button'\nimport { Loader } from 'decentraland-ui/dist/components/Loader/Loader'\nimport guest from '../../images/guest.jpg'\nimport wallets from '../../images/wallets.jpg'\nimport './LoginItemContainer.css'\nimport { EthConnectAdvice } from './EthConnectAdvice'\n\nexport type LoginItemContainerProps = {\n  onClick?: () => void,\n  onCancel?: () => void,\n  className?: string\n  loading?: boolean\n  active?: boolean\n  provider?: ProviderType\n  children?: React.ReactNode\n}\n\nexport const LoginItemContainer = React.memo(function ({ children, className, loading, active, provider, onClick, onCancel }: LoginItemContainerProps) {\n  const [ cancel, setCancel ] = useState(false)\n  const handleCancel = useCallback(() => {\n    setCancel(true)\n    if (onCancel) {\n      onCancel()\n    }\n  }, [ onCancel, setCancel ])\n\n  return <div\n      className={`LoginItemContainer ${className || ''} ${loading ? 'loading' : ''} ${active ? 'active' : ''}`}\n      onClick={loading ? undefined : onClick}\n    >\n    <div className=\"LoginItemContainer__BackLayer\" />\n    <div className=\"LoginItemContainer__Content\">\n      {children}\n    </div>\n    {loading && active && <div className=\"loader-background\">\n      <Loader active={active && loading} provider={provider} size=\"massive\" />\n      {provider && <EthConnectAdvice provider={provider} style={{ marginTop: '27px'}} />}\n      {onCancel && provider && <div style={{ marginTop: '22px'}}>- or -</div>}\n      {onCancel && provider && <Button onClick={handleCancel} loading={cancel} style={{ marginTop: '28px'}}>cancel</Button>}\n    </div>}\n  </div>\n})\n\nexport const LoginWalletItem = React.memo(function (props: LoginItemContainerProps) {\n  return <LoginItemContainer {...props} className={`LoginWalletItem ${props.className || ''}`}>\n      <img alt=\"wallets\" src={wallets} width=\"318\" height=\"318\" />\n      <h2>Play using your wallet</h2>\n      <p>Connect your account to fully enjoy Decentraland!</p>\n      <Button primary size=\"huge\" loading={props.loading && !props.active} disabled={props.loading}>Continue with wallet</Button>\n  </LoginItemContainer>\n})\n\nexport const LoginGuestItem = React.memo(function (props: LoginItemContainerProps) {\n  return <LoginItemContainer {...props} className={`LoginGuestItem ${props.className || ''}`}>\n    <img alt=\"guest\" src={guest} width=\"318\" height=\"318\" />\n    <h2>Play as guest</h2>\n    <p>Your information will be locally stored and your experience limited.</p>\n    <Button primary size=\"huge\" loading={props.loading && !props.active} disabled={props.loading}>Continue as guest</Button>\n  </LoginItemContainer>\n})","import React, { useCallback, useMemo, useState } from 'react'\nimport { LoginState } from '@dcl/kernel-interface'\nimport { ProviderType } from '@dcl/schemas/dist/dapps/provider-type'\nimport { connect } from 'react-redux'\nimport { connection } from 'decentraland-connect/dist/index'\nimport { Container } from '../common/Layout/Container'\nimport { StoreType } from '../../state/redux'\nimport { authenticate } from '../../kernel-loader'\nimport { EthWalletSelector } from './EthWalletSelector'\nimport { LoginGuestItem, LoginWalletItem } from './LoginItemContainer'\nimport { isElectron } from '../../integration/desktop'\nimport { disconnect } from '../../eth/provider'\nimport { isWindows } from '../../integration/browser'\nimport { track } from '../../utils/tracking'\nimport logo from '../../images/logo.png'\nimport './LoginContainer.css'\n\n\nexport const defaultAvailableProviders = []\n\nconst mapStateToProps = (state: StoreType): LoginContainerProps => {\n  // test all connectors\n  const enableProviders = new Set([ProviderType.INJECTED, ProviderType.FORTMATIC, ProviderType.WALLET_CONNECT])\n  const availableProviders = connection.getAvailableProviders().filter((provider) => enableProviders.has(provider))\n  return {\n    availableProviders,\n    stage: state.session.kernelState?.loginStatus,\n    provider: state.session.connection?.providerType,\n    kernelReady: state.kernel.ready,\n    rendererReady: state.renderer.ready,\n    isGuest: state.session.kernelState ? state.session.kernelState.isGuest : undefined,\n    isWallet: state.session.kernelState ? !state.session.kernelState.isGuest && !!state.session.connection : undefined,\n  }\n}\n\nconst mapDispatchToProps = (dispatch: any) => ({\n  onLogin: (providerType: ProviderType | null) => {\n    track('click_login_button', { provider_type: providerType || 'guest' })\n    authenticate(providerType)\n  },\n  onCancelLogin: () => {\n    track('click_cancel_login_button')\n    disconnect()\n      .then(() => window.location.reload())\n  }\n})\n\nexport interface LoginContainerProps {\n  stage?: LoginState\n  provider?: ProviderType\n  availableProviders?: ProviderType[]\n  kernelReady: boolean\n  rendererReady: boolean\n  isGuest?: boolean\n  isWallet?: boolean\n}\n\nexport interface LoginContainerDispatch {\n  onLogin: (provider: ProviderType | null) => void\n  onCancelLogin: () => void\n}\n\nexport const LoginContainer: React.FC<LoginContainerProps & LoginContainerDispatch> = ({ onLogin, onCancelLogin, stage, isWallet, isGuest, provider, kernelReady, availableProviders }) => {\n  const [ showWalletSelector, setShowWalletSelector ] = useState(false)\n  const onSelect = useCallback(\n    () => {\n      if (isElectron() && onLogin) {\n        onLogin(ProviderType.WALLET_CONNECT)\n      } else {\n        track('open_login_popup')\n        setShowWalletSelector(true)\n      }\n    },\n    [onLogin]\n  )\n  const onCancel = useCallback(() => setShowWalletSelector(false), [])\n  const onGuest = useCallback(() => onLogin && onLogin(null), [onLogin])\n  const loading = useMemo(() => {\n    return stage === LoginState.SIGNATURE_PENDING ||\n      stage === LoginState.WAITING_PROFILE ||\n      stage === LoginState.WAITING_RENDERER ||\n      stage === LoginState.LOADING ||\n      !kernelReady\n  }, [stage, kernelReady])\n\n  const providerInUse = useMemo(() => {\n    if (stage === LoginState.AUTHENTICATING || stage === LoginState.SIGNATURE_PENDING) {\n      return provider\n    }\n\n    return undefined\n  }, [stage, provider])\n\n  const desktopAvailable = useMemo(() => !isElectron() && isWindows(), [])\n\n  if (stage === LoginState.COMPLETED) {\n    return <React.Fragment />\n  }\n\n  return (\n    <main className=\"LoginContainer\">\n      {/* {stage === LoginState.CONNECT_ADVICE && <EthConnectAdvice onLogin={onLogin} />} */}\n      {/* {stage === LoginState.SIGN_ADVICE && <EthSignAdvice />} */}\n      <Container>\n        <div className=\"LogoContainer\">\n          <img alt=\"decentraland\" src={logo} height=\"40\" width=\"212\" />\n          <p>Sign In or Create an Account</p>\n        </div>\n        <div>\n          <LoginWalletItem loading={loading} active={isWallet} onClick={onSelect} provider={providerInUse} onCancel={onCancelLogin} />\n          <LoginGuestItem loading={loading} active={isGuest} onClick={onGuest} />\n        </div>\n        <div style={{ visibility: desktopAvailable ? 'visible' : 'hidden' }}>\n          <a className=\"DownloadDesktopApp\" href=\"https://decentraland.org/download/\" target=\"_blank\" rel=\"noreferrer noopener\">\n            Want to play on windows? <span style={{ textDecoration: 'underline' }}>Download the desktop client</span>\n          </a>\n        </div>\n      </Container>\n\n      <EthWalletSelector\n        open={showWalletSelector}\n        loading={loading}\n        availableProviders={availableProviders || defaultAvailableProviders}\n        provider={providerInUse}\n        onLogin={onLogin}\n        onCancel={onCancel}\n      />\n    </main>\n  )\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer)\n","export default \"data:image/png;base64,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\"","import React from 'react'\n\nexport interface AudioProps {\n  play: boolean\n  track: string\n}\n\nexport class Audio extends React.Component<AudioProps> {\n  private player: HTMLAudioElement | null = null\n\n  componentDidMount() {\n    this.updatePlayer()\n  }\n\n  componentDidUpdate() {\n    this.updatePlayer()\n  }\n\n  updatePlayer() {\n    if (!this.player) {\n      return\n    }\n    !this.props.play ? this.player.pause() : this.player.play().catch((e) => {})\n  }\n\n  render() {\n    return (\n      <audio ref={(audio) => (this.player = audio)} autoPlay loop>\n        <source src={this.props.track} type=\"audio/mpeg\" />\n      </audio>\n    )\n  }\n}\n","import React, { useState, useRef, useMemo } from 'react'\nimport './Accordion.css'\n\nexport interface AccordionProps {\n  title?: React.ReactNode\n  children?: React.ReactNode\n  open?: boolean\n}\n\nexport function Accordion(props: AccordionProps) {\n  const [open, setOpen] = useState(false)\n  const ref = useRef<HTMLDivElement>(null)\n  const height = useMemo(() => {\n    if (!ref.current || !open) {\n      return 0\n    }\n\n    return ref.current.offsetHeight + 50\n  }, [open])\n\n  let className = 'eth-accordion'\n  if (open) {\n    className += ' eth-accordion-open'\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"eth-accordion-title\" onClick={() => setOpen(!open)}>\n        {props.title}\n      </div>\n      <div className=\"eth-accordion-description\" style={{ height: `${height}px` }}>\n        <div ref={ref}>{props.children}</div>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Accordion } from '../common/Layout/Accordion'\nimport { Container, Content } from '../common/Layout/Container'\nimport './BeginnersGuide.css'\n\nexport const BeginnersGuide: React.FC<React.HTMLAttributes<HTMLDivElement>> = (props) => (\n  <div className=\"eth-beginners-guide\">\n    <Container>\n      <Content>\n        <h2>Beginner's Guide</h2>\n        <Accordion\n          title={\n            <h3>\n              What do I need to <b>play</b>?\n            </h3>\n          }\n        >\n          <p>A PC or Mac running Chrome or Firefox</p>\n          <ul>\n            <li>\n              <p>Can I play on a mobile device?</p>\n              <p>For the moment we don’t support mobile devices. But please stay tuned!</p>\n            </li>\n            <li>\n              <p>Can I log in from multiple computers?</p>\n              <p>\n                Yes, you can run Decentraland from multiple computers as long as you have your digital wallet installed\n                on each machine.\n              </p>\n            </li>\n            <li>\n              <p>Can I use a different browser?</p>\n              <p>\n                While it may be technically possible to use another browser, we recommend Chrome or Firefox to ensure\n                optimal performance.\n              </p>\n            </li>\n          </ul>\n        </Accordion>\n        <Accordion\n          title={\n            <h3>\n              What is a <b>Wallet</b> and why do I need one?\n            </h3>\n          }\n        >\n          <p>\n            If you want to fully enjoy the Decentraland experience, we recommend you get yourself a digital wallet.\n            Digital wallets work as your personal account, keeping all your digital assets (such as names, collectibles,\n            LANDs) and in-world progress safe.\n          </p>\n          <p>\n            If you choose to experience Decentraland Explorer without a wallet, the information will only be stored\n            locally: you will be able to walk around, customize your Avatar and chat with others in-world, but you won’t\n            have the chance to receive daily rewards, participate in events or log in with a different device using the\n            same Guest ID and Avatar.\n          </p>\n          <p>\n            If this is the first time you’re hearing about digital wallets, we recommend reading{' '}\n            <a href=\"https://docs.decentraland.org/examples/get-a-wallet/\" target=\"_blank\" rel=\"noreferrer\">\n              Get a Wallet – Beginners Guide\n            </a>\n            .\n          </p>\n        </Accordion>\n        <Accordion\n          title={\n            <h3>\n              What is <b>MANA</b>?\n            </h3>\n          }\n        >\n          <p>\n            MANA is Decentraland’s fungible, ERC20 cryptocurrency token. MANA is burned, or spent, in exchange for LAND\n            parcels. For a current summary of critical stats like total and circulating supply, please visit our MANA\n            Token Information transparency dashboard. See the{' '}\n            <a href=\"https://docs.decentraland.org/decentraland/glossary/\" target=\"_blank\" rel=\"noreferrer\">\n              Glossary\n            </a>\n            for more information.\n          </p>\n        </Accordion>\n        <Accordion\n          title={\n            <h3>\n              What is <b>LAND</b>?\n            </h3>\n          }\n        >\n          <p>\n            LAND is a non-fungible digital asset maintained in an Ethereum smart contract. LAND is divided into parcels\n            that are referenced using unique x,y cartesian coordinates. Each LAND token includes a record of its\n            coordinates, its owner, and a reference to a content description file or parcel manifest that describes and\n            encodes the content the owner wishes to serve on his or her land.\n          </p>\n        </Accordion>\n        <Accordion\n          title={\n            <h3>\n              What is the <b>Marketplace</b>?\n            </h3>\n          }\n        >\n          <p>The Marketplace is the go-to place to trade and manage all your Decentraland on-chain assets.</p>\n          <p>\n            Access the Marketplace at{' '}\n            <a href=\"https://market.decentraland.org\" target=\"_blank\" rel=\"noreferrer\">\n              market.decentraland.org\n            </a>\n            .\n          </p>\n          <p>The Marketplace allows you to:</p>\n          <ul>\n            <li>\n              <p>\n                Sell parcels and Estates of LAND, wearables and unique names. Set your own price in MANA and an\n                expiration date for the offer.\n              </p>\n            </li>\n            <li>\n              <p>Buy parcels and Estates, wearables and unique names that are for sale.</p>\n            </li>\n            <li>\n              <p>Transfer your parcels and Estates to another user.</p>\n            </li>\n            <li>\n              <p>\n                Explore the world through a map to see who owns what, what wearables exist and what names are claimed.\n              </p>\n            </li>\n          </ul>\n        </Accordion>\n      </Content>\n    </Container>\n  </div>\n)\n","import React from 'react'\n\nexport const Reddit = React.memo(function (props: React.SVGAttributes<SVGElement>) {\n  return (\n    <svg {...props} width=\"22\" height=\"22\" viewBox=\"0 0 22 22\">\n      <path\n        fill=\"currentColor\"\n        d=\"M14,6.63157895 C14,6.95987493 13.9345794,7.22251172 13.7383178,7.48514851 C13.6074766,7.7477853 13.411215,7.9447629 13.1495327,8.07608129 C13.2149533,8.33871808 13.2149533,8.53569567 13.2149533,8.79833246 C13.2149533,9.58624283 12.953271,10.3741532 12.364486,11.0307452 C11.8411215,11.6873372 11.0560748,12.2782699 10.1401869,12.6722251 C9.22429907,13.0661803 8.17757009,13.2631579 7,13.2631579 C5.88785047,13.2631579 4.8411215,13.0661803 3.92523364,12.6722251 C2.94392523,12.2782699 2.22429907,11.7529964 1.70093458,11.0307452 C1.17757009,10.3741532 0.85046729,9.58624283 0.85046729,8.79833246 C0.85046729,8.53569567 0.85046729,8.33871808 0.91588785,8.07608129 C0.654205607,7.9447629 0.457943925,7.7477853 0.261682243,7.48514851 C0.130841121,7.22251172 0,6.95987493 0,6.63157895 C0,6.23762376 0.130841121,5.84366858 0.457943925,5.51537259 C0.785046729,5.1870766 1.11214953,5.05575821 1.57009346,5.05575821 C2.02803738,5.05575821 2.35514019,5.1870766 2.68224299,5.51537259 C3.79439252,4.72746222 5.1682243,4.33350703 6.6728972,4.26784784 L7.58878505,0.196977592 C7.58878505,0.131318395 7.65420561,0.0656591975 7.71962617,0.0656591975 C7.78504673,0 7.85046729,0 7.91588785,0 L10.7943925,0.656591975 C10.8598131,0.459614382 11.0560748,0.328295987 11.1869159,0.196977592 C11.3831776,0.0656591975 11.5794393,0 11.7757009,0 C12.1028037,0 12.364486,0.131318395 12.6261682,0.328295987 C12.8224299,0.52527358 12.953271,0.853569567 12.953271,1.18186555 C12.953271,1.51016154 12.8224299,1.77279833 12.6261682,2.03543512 C12.4299065,2.29807191 12.1028037,2.36373111 11.7757009,2.36373111 C11.4485981,2.36373111 11.1869159,2.23241271 10.9252336,2.03543512 C10.728972,1.83845753 10.5981308,1.51016154 10.5981308,1.18186555 L7.98130841,0.590932777 L7.19626168,4.26784784 C8.76635514,4.33350703 10.0747664,4.72746222 11.2523364,5.51537259 C11.5794393,5.1870766 11.9065421,5.05575821 12.364486,5.05575821 C12.8224299,5.05575821 13.1495327,5.1870766 13.4766355,5.51537259 C13.8691589,5.84366858 14,6.23762376 14,6.63157895 Z M3.3364486,8.20739969 C3.3364486,8.53569567 3.46728972,8.79833246 3.6635514,9.06096925 C3.85981308,9.32360604 4.18691589,9.38926524 4.51401869,9.38926524 C4.8411215,9.38926524 5.10280374,9.25794685 5.36448598,9.06096925 C5.56074766,8.86399166 5.69158879,8.53569567 5.69158879,8.20739969 C5.69158879,7.8791037 5.56074766,7.61646691 5.36448598,7.35383012 C5.1682243,7.15685253 4.8411215,7.02553413 4.51401869,7.02553413 C4.18691589,7.02553413 3.92523364,7.15685253 3.72897196,7.35383012 C3.53271028,7.55080771 3.3364486,7.8791037 3.3364486,8.20739969 Z M9.61682243,10.965086 C9.68224299,10.8994268 9.68224299,10.8337676 9.68224299,10.7681084 C9.68224299,10.7024492 9.68224299,10.63679 9.61682243,10.5711308 C9.55140187,10.5054716 9.48598131,10.5054716 9.42056075,10.5054716 C9.35514019,10.5054716 9.28971963,10.5054716 9.22429907,10.5711308 C9.02803738,10.7681084 8.70093458,10.965086 8.30841121,11.0307452 C7.91588785,11.1620636 7.45794393,11.1620636 7.06542056,11.1620636 C6.6728972,11.1620636 6.21495327,11.0964044 5.82242991,11.0307452 C5.42990654,10.8994268 5.10280374,10.7681084 4.90654206,10.5711308 C4.8411215,10.5054716 4.77570093,10.5054716 4.71028037,10.5054716 C4.64485981,10.5054716 4.57943925,10.5054716 4.51401869,10.5711308 C4.44859813,10.63679 4.44859813,10.7024492 4.44859813,10.7681084 C4.44859813,10.8337676 4.44859813,10.8994268 4.51401869,10.965086 C4.71028037,11.1620636 5.03738318,11.3590412 5.42990654,11.4903596 C5.82242991,11.621678 6.14953271,11.6873372 6.41121495,11.7529964 C6.6728972,11.7529964 6.86915888,11.8186555 7.13084112,11.8186555 C7.39252336,11.8186555 7.58878505,11.8186555 7.85046729,11.7529964 C8.11214953,11.7529964 8.43925234,11.621678 8.8317757,11.4903596 C9.09345794,11.3590412 9.42056075,11.2277228 9.61682243,10.965086 Z M9.61682243,9.38926524 C9.94392523,9.38926524 10.2056075,9.25794685 10.4672897,9.06096925 C10.728972,8.86399166 10.7943925,8.53569567 10.7943925,8.20739969 C10.7943925,7.8791037 10.6635514,7.61646691 10.4672897,7.41948932 C10.271028,7.22251172 9.94392523,7.09119333 9.68224299,7.09119333 C9.35514019,7.09119333 9.09345794,7.22251172 8.8317757,7.41948932 C8.63551402,7.61646691 8.5046729,7.9447629 8.5046729,8.27305888 C8.5046729,8.60135487 8.63551402,8.86399166 8.8317757,9.12662845 C9.02803738,9.25794685 9.28971963,9.38926524 9.61682243,9.38926524 Z\"\n        transform=\"translate(4 4)\"\n      />\n    </svg>\n  )\n})\n","import React from 'react'\n\nexport const Github = React.memo(function (props: React.SVGAttributes<SVGElement>) {\n  return (\n    <svg {...props} width=\"22\" height=\"22\" viewBox=\"0 0 22 22\">\n      <path\n        fill=\"currentColor\"\n        d=\"M7.88857838,9.78302833 C7.88857838,9.92796208 7.88857838,10.0728958 7.88857838,10.2902965 C7.88857838,11.159899 7.88857838,11.9570346 7.88857838,12.8266371 C7.88857838,12.9715709 7.88857838,13.0440378 7.73831975,12.9715709 C6.6865093,12.9715709 5.63469884,12.9715709 4.58288839,12.9715709 C4.43262976,12.9715709 4.43262976,12.899104 4.43262976,12.8266371 C4.43262976,12.3918359 4.43262976,11.8845677 4.43262976,11.4497665 C4.43262976,11.3772996 4.50775908,11.3048327 4.35750044,11.3048327 C4.35750044,11.3048327 4.28237112,11.3048327 4.28237112,11.3048327 C4.2072418,11.3048327 4.2072418,11.3048327 4.13211249,11.3048327 C3.68133658,11.3772996 3.30568999,11.3772996 2.85491408,11.3048327 C2.1036209,11.0874321 1.57771568,10.7250977 1.2771984,10.000429 C1.05181045,9.5656277 0.751293179,9.13082644 0.450775908,8.76849206 C0.37564659,8.6235583 0.150258636,8.6235583 0.0751293179,8.47862455 C0,8.40615767 0,8.40615767 0,8.3336908 C0,8.26122392 0.0751293179,8.26122392 0.150258636,8.26122392 C0.826422497,8.18875704 1.35232772,8.55109143 1.65284499,9.05835956 C1.95336227,9.5656277 2.40413817,9.92796208 2.9300434,10.0728958 C3.38081931,10.1453627 3.7564659,10.1453627 4.2072418,10.000429 C4.28237112,10.000429 4.35750044,9.92796208 4.35750044,9.78302833 C4.35750044,9.34822707 4.50775908,8.98589269 4.80827635,8.6235583 C4.65801771,8.6235583 4.58288839,8.55109143 4.50775908,8.55109143 C3.7564659,8.47862455 3.08030204,8.18875704 2.55439681,7.75395579 C1.87823295,7.24668765 1.50258636,6.59448576 1.35232772,5.869817 C1.2771984,5.14514823 1.2771984,4.49294634 1.35232772,3.76827758 C1.42745704,3.26100944 1.57771568,2.75374131 1.95336227,2.31894005 C2.1036209,2.17400629 2.1036209,2.10153942 2.02849158,1.88413879 C1.80310363,1.30440378 1.87823295,0.724668765 2.1036209,0.144933753 C2.1036209,0 2.17875022,0 2.32900886,0 C2.77978476,0.144933753 3.15543135,0.362334382 3.45594862,0.652201888 C3.60620726,0.797135641 3.7564659,0.942069394 3.90672453,1.15947002 C3.98185385,1.2319369 3.98185385,1.2319369 4.05698317,1.15947002 C4.28237112,0.942069394 4.58288839,0.942069394 4.88340567,0.869602518 C5.70982816,0.724668765 6.61137998,0.724668765 7.43780247,0.869602518 C7.73831975,0.942069394 8.03883702,0.942069394 8.26422497,1.15947002 C8.41448361,1.2319369 8.41448361,1.2319369 8.48961293,1.08700315 C8.71500088,0.797135641 9.01551815,0.507268135 9.31603542,0.289867506 C9.54142338,0.144933753 9.76681133,0.0724668765 9.99219928,0 C10.0673286,0 10.1424579,0 10.2175872,0.0724668765 C10.4429752,0.724668765 10.5181045,1.30440378 10.2175872,1.95660567 C10.2175872,2.02907254 10.1424579,2.10153942 10.2175872,2.17400629 C10.6683631,2.53634068 10.8186218,3.04360881 10.8937511,3.55087695 C10.9688804,4.20307884 11.0440097,4.85528073 10.9688804,5.50748261 C10.8186218,6.59448576 10.2175872,7.46408828 9.24090611,7.97135641 C9.16577679,7.97135641 9.16577679,7.97135641 9.16577679,8.04382329 C9.16577679,8.04382329 9.09064747,8.04382329 9.09064747,8.11629017 C9.01551815,8.11629017 8.94038883,8.18875704 8.86525952,8.18875704 C8.86525952,8.18875704 8.7901302,8.18875704 8.7901302,8.18875704 C8.71500088,8.18875704 8.71500088,8.18875704 8.71500088,8.26122392 C8.71500088,8.26122392 8.63987156,8.26122392 8.63987156,8.26122392 C8.48961293,8.26122392 8.33935429,8.3336908 8.26422497,8.40615767 C8.26422497,8.40615767 8.18909565,8.40615767 8.18909565,8.40615767 C8.11396634,8.40615767 7.9637077,8.40615767 7.88857838,8.47862455 C7.81344906,8.47862455 7.73831975,8.47862455 7.66319043,8.47862455 C7.58806111,8.47862455 7.51293179,8.47862455 7.51293179,8.47862455 C7.43780247,8.47862455 7.51293179,8.55109143 7.51293179,8.55109143 C7.51293179,8.6235583 7.51293179,8.6235583 7.58806111,8.6235583 C7.58806111,8.69602518 7.66319043,8.69602518 7.66319043,8.76849206 C7.66319043,8.84095893 7.66319043,8.91342581 7.73831975,8.98589269 C7.73831975,8.98589269 7.73831975,9.05835956 7.73831975,9.05835956 C7.73831975,9.13082644 7.73831975,9.27576019 7.81344906,9.34822707 C7.81344906,9.34822707 7.81344906,9.42069394 7.81344906,9.42069394 C7.81344906,9.49316082 7.81344906,9.49316082 7.81344906,9.5656277 C7.88857838,9.71056145 7.88857838,9.71056145 7.88857838,9.78302833 Z\"\n        transform=\"translate(5 5)\"\n      />\n    </svg>\n  )\n})\n","import React from 'react'\n\nexport const Twitter = React.memo(function (props: React.SVGAttributes<SVGElement>) {\n  return (\n    <svg {...props} width=\"22\" height=\"22\" viewBox=\"0 0 22 22\">\n      <path\n        fill=\"currentColor\"\n        d=\"M13,1.82494005 C12.5384615,2.058753 12,2.2146283 11.4615385,2.2146283 C12,1.9028777 12.4615385,1.35731415 12.6153846,0.73381295 C12.0769231,1.04556355 11.5384615,1.2793765 10.9230769,1.35731415 C10.4615385,0.8117506 9.76923077,0.5 9,0.5 C7.53846154,0.5 6.30769231,1.7470024 6.30769231,3.22781775 C6.30769231,3.4616307 6.30769231,3.617506 6.38461538,3.85131894 C4.15384615,3.77338129 2.15384615,2.6822542 0.846153846,1.04556355 C0.615384615,1.4352518 0.461538462,1.9028777 0.461538462,2.44844125 C0.461538462,3.38369305 0.923076923,4.24100719 1.69230769,4.70863309 C1.23076923,4.70863309 0.846153846,4.55275779 0.461538462,4.39688249 C0.461538462,5.72182254 1.38461538,6.81294964 2.61538462,7.04676259 C2.38461538,7.12470024 2.15384615,7.12470024 1.92307692,7.12470024 C1.76923077,7.12470024 1.61538462,7.12470024 1.38461538,7.04676259 C1.69230769,8.13788969 2.69230769,8.91726619 3.92307692,8.91726619 C3,9.61870504 1.84615385,10.0863309 0.615384615,10.0863309 C0.384615385,10.0863309 0.153846154,10.0863309 0,10.0863309 C1.15384615,10.8657074 2.61538462,11.3333333 4.07692308,11.3333333 C9,11.3333333 11.6923077,7.20263789 11.6923077,3.617506 C11.6923077,3.4616307 11.6923077,3.38369305 11.6923077,3.22781775 C12.1538462,2.91606715 12.6153846,2.3705036 13,1.82494005 Z\"\n        transform=\"translate(5 5)\"\n      />\n    </svg>\n  )\n})\n","import React from 'react'\n\nexport const Discord = React.memo(function (props: React.SVGAttributes<SVGElement>) {\n  return (\n    <svg {...props} width=\"22\" height=\"22\" viewBox=\"0 0 22 22\">\n      <path\n        fill=\"currentColor\"\n        d=\"M5.0677998,1.36000287e-05 C4.8822277,0.000761200029 3.34704426,0.0443327002 1.72750578,1.24773952 C1.72750578,1.24773952 0,4.35487581 0,8.18178463 C0,8.18178463 1.00769549,9.90927375 3.65893934,9.99324995 C3.65893934,9.99324995 4.10281088,9.46539815 4.46270818,9.00952847 C2.93914264,8.55365809 2.3633099,7.60596477 2.3633099,7.60596477 C2.3633099,7.60596477 2.4833011,7.68992641 2.69923962,7.80989241 C2.71123608,7.80989241 2.7231967,7.82187053 2.7471899,7.83386741 C2.78317956,7.85786019 2.8191807,7.86985875 2.8551705,7.89385167 C3.15508494,8.06180379 3.45498972,8.19378319 3.7309111,8.30175301 C4.22277072,8.50569507 4.8106212,8.68562615 5.49442614,8.81758875 C6.39416918,8.98554115 7.44984898,9.04551491 8.60152062,8.82957625 C9.16535998,8.72160713 9.74123178,8.56566883 10.3410607,8.31374051 C10.7609405,8.15778485 11.2287902,7.92987255 11.7206494,7.60596477 C11.7206494,7.60596477 11.120831,8.57768909 9.54927932,9.02156259 C9.9091769,9.46543553 10.3410607,9.98126231 10.3410607,9.98126231 C12.9923042,9.89728709 14,8.16978775 14,8.18178463 C14,4.35487581 12.2724939,1.24773952 12.2724939,1.24773952 C10.5569839,-0.0358942998 8.91342886,0.000106700029 8.91342886,0.000106700029 L8.74551048,0.192046422 C10.7849293,0.803871902 11.7326367,1.70363743 11.7326367,1.70363743 C10.4849923,1.031829 9.26136876,0.695901242 8.121694,0.563938922 C7.25794034,0.467966262 6.43014414,0.491987742 5.69835336,0.587960262 C5.62637418,0.587960262 5.5664056,0.599939082 5.49442614,0.611935262 C5.07454598,0.659921942 4.0548452,0.803868682 2.77121124,1.36770776 C2.32733802,1.55965289 2.0633893,1.70363743 2.0633893,1.70363743 C2.0633893,1.70363743 3.04710882,0.755875562 5.20649276,0.144049942 L5.08652452,0.000106700029 C5.08652452,0.000106700029 5.08017132,-3.60999713e-05 5.0677998,8.70002873e-06 L5.0677998,1.36000287e-05 Z M4.76262892,4.42685219 C5.44643372,4.42685219 5.99828264,5.01466585 5.98628674,5.74645663 C5.98628674,6.47824839 5.44643372,7.06610783 4.76262892,7.06610783 C4.09082044,7.06610783 3.5389711,6.47824839 3.5389711,5.74645663 C3.5389711,5.01466585 4.07882384,4.42685219 4.76262892,4.42685219 Z M9.14137784,4.42685219 C9.81318618,4.42685219 10.3650357,5.01466585 10.3650357,5.74645663 C10.3650357,6.47824839 9.8251832,7.06610783 9.14137784,7.06610783 C8.46956964,7.06610783 7.91772002,6.47824839 7.91772002,5.74645663 C7.91772002,5.01466585 8.45757276,4.42685219 9.14137784,4.42685219 Z\"\n        transform=\"translate(4 6)\"\n      />\n    </svg>\n  )\n})\n","import React from 'react'\nimport { Container } from './Container'\nimport { Reddit } from '../Icon/Reddit'\nimport { Github } from '../Icon/Github'\nimport { Twitter } from '../Icon/Twitter'\nimport { Discord } from '../Icon/Discord'\n\nimport './BigFooter.css'\nimport { injectVersions } from '../../../utils/rolloutVersions'\n\nconst year = Math.max(new Date().getFullYear(), 2020)\n\nexport const BigFooter = () => {\n  let versions = injectVersions({})\n\n  return (\n    <footer className=\"big-footer\">\n      <Container>\n        <div>\n          <div>\n            <h4>NEED SUPPORT?</h4>\n          </div>\n          <div>\n            <a className=\"big-footer-button\" href=\"https://decentraland.org/discord\" target=\"about:blank\">\n              <Discord /> Join our Discord\n            </a>\n          </div>\n        </div>\n        <div>\n          <div>\n            <h4>FOLLOW US</h4>\n          </div>\n          <div>\n            <a className=\"big-footer-icon\" href=\"https://www.reddit.com/r/decentraland/\" target=\"about:blank\">\n              <Reddit />\n            </a>\n            <a className=\"big-footer-icon\" href=\"http://github.com/decentraland\" target=\"about:blank\">\n              <Github />\n            </a>\n            <a className=\"big-footer-icon\" href=\"https://twitter.com/decentraland\" target=\"about:blank\">\n              <Twitter />\n            </a>\n          </div>\n        </div>\n      </Container>\n      <Container>\n        <p className=\"copyright\" title={'Versions: ' + JSON.stringify(versions, null, 2)}>\n          © {year} Decentraland\n        </p>\n      </Container>\n    </footer>\n  )\n}\n","import React from 'react'\nimport { BannerContainerProps } from './BannerContainer.types'\n\nimport './banners.css'\n\nexport const BannerNotSupported: React.FC<Pick<BannerContainerProps, 'onClose'>> = (props) => (\n  <div id=\"banner-notsupported\" className=\"banner-container\">\n    <div className=\"banner-close-button\" onClick={props.onClose} />\n    <div className=\"banner-text\">\n      Your browser is not among the recommended choices for an optimal experience in Decentraland.\n      We suggest you use one based on\n        {' '}\n        <a href=\"https://www.google.com/chrome/\" rel=\"noreferrer noopener\" target=\"_blank\">Chromium</a>\n        {' or '}\n        <a href=\"https://www.mozilla.org/en-US/firefox/new/\" rel=\"noreferrer noopener\" target=\"_blank\">Firefox</a>.\n    </div>\n  </div>\n)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setBanner } from '../../state/actions'\nimport { BannerType, StoreType } from '../../state/redux'\nimport { BannerContainerProps } from './BannerContainer.types'\nimport { BannerNotSupported } from './BannerNotSupported'\n\nconst mapStateToProps = (state: StoreType): Pick<BannerContainerProps, 'banner'> => {\n  return {\n    banner: state.banner.banner\n  }\n}\n\nconst mapDispatchToProps = (dispatch: (a: any) => void, state: StoreType): Pick<BannerContainerProps, 'onClose'> => {\n  return {\n    onClose: () => dispatch(setBanner(null))\n  }\n}\n\nexport const BannerContainer: React.FC<BannerContainerProps> = (props) => {\n  switch (props.banner) {\n    case BannerType.NOT_RECOMMENDED:\n      return <BannerNotSupported onClose={props.onClose}/>\n    default:\n      return null\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BannerContainer)\n","import React from 'react'\nimport './LoadingRender.css'\n\nexport const LoadingRender = React.memo(function () {\n  return <div className=\"LoadingRender\">\n    <img alt=\"loading\" src={process.env.PUBLIC_URL + '/images/loading.gif'} width=\"150\" height=\"150\" />\n    <p>We are downloading the latest version of Decentraland. You'll be up and running in a few seconds!</p>\n  </div>\n})","import React from 'react'\nimport { Discord } from '../Icon/Discord'\nimport './JoinDiscord.css'\n\nexport const JoinDiscord = React.memo(function () {\n  return <a className=\"JoinDiscord\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://decentraland.org/discord/\">\n    <Discord />\n    <span>JOIN DISCORD</span>\n  </a>\n})","import React from 'react'\nimport { Navbar as Base } from'decentraland-ui/dist/components/Navbar/Navbar'\nimport { JoinDiscord } from '../Button/JoinDiscord'\nimport Menu from 'semantic-ui-react/dist/commonjs/collections/Menu'\n\n\nexport const Navbar = React.memo(function () {\n  return <Base\n    isFullscreen\n    leftMenu={<>\n        <Menu.Item href=\"https://decentraland.org\">\n          HOME\n        </Menu.Item>\n        <Menu.Item active href=\"https://play.decentraland.org\" onClick={(e) => e.preventDefault()}>\n          PLAY\n        </Menu.Item>\n       <Menu.Item href=\"https://market.decentraland.org\">\n          {Base.defaultProps.i18n?.menu?.marketplace}\n        </Menu.Item>\n        <Menu.Item href=\"https://builder.decentraland.org\">\n          {Base.defaultProps.i18n?.menu?.builder}\n        </Menu.Item>\n        <Menu.Item href=\"https://docs.decentraland.org\">\n          {Base.defaultProps.i18n?.menu?.docs}\n        </Menu.Item>\n        <Menu.Item href=\"https://events.decentraland.org\">\n          {Base.defaultProps.i18n?.menu?.events}\n        </Menu.Item>\n        <Menu.Item href=\"https://dao.decentraland.org\">\n          {Base.defaultProps.i18n?.menu?.dao}\n        </Menu.Item>\n        <Menu.Item href=\"https://decentraland.org/blog\">\n          {Base.defaultProps.i18n?.menu?.blog}\n        </Menu.Item>\n    </>}\n    rightMenu={<JoinDiscord />}\n  />\n})","import React from 'react'\nimport { BannerContainerProps } from './BannerContainer.types'\n\nimport './banners.css'\n\nexport const BannerStream: React.FC<Pick<BannerContainerProps, 'onClose'>> = (props) => (\n  <div id=\"banner-stream\" className=\"banner-container\">\n    <div className=\"banner-close-button\" onClick={props.onClose} />\n    <div className=\"banner-text\">\n        You are viewing a stream because Decentraland is only available on desktop.\n        <br />\n        <a href=\"https://decentraland.org\" rel=\"noreferrer noopener\" target=\"_blank\">Learn more</a>\n    </div>\n  </div>\n)\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { StoreType } from '../../state/redux'\nimport { FeatureFlags, getFeatureVariant } from '../../state/selectors'\nimport { BannerStream } from '../banners/BannerStream'\nimport './StreamContainer.css'\n\nfunction mapStateToProps(state: StoreType): StreamContainerProps {\n  return {\n    src: getFeatureVariant(state, FeatureFlags.Stream),\n  }\n}\n\nexport interface StreamContainerProps {\n  src?: string\n}\n\n\nfunction windowSize() {\n  return {\n    height: window.innerHeight,\n    width: window.innerWidth,\n  }\n}\n\nconst StreamContainer: React.FC<StreamContainerProps> = (props: StreamContainerProps) => {\n  const [ banner, setBanner ] = useState(true)\n  const [ size, setSize ] = useState(() => ({ height: 0, width: 0 }))\n  useEffect(() => {\n    const root = document.getElementById('root')\n    if (root) {\n      root.className += ' full'\n    }\n\n    const resize = () => setSize(windowSize())\n    resize()\n\n    window.addEventListener('resize', resize)\n\n    return () => {\n      window.removeEventListener('resize', resize)\n      if (root) {\n        root.className = root.className.replace(' full', '')\n      }\n    }\n  }, [])\n\n  if (!props.src || size.height === 0 || size.width === 0) {\n    return null\n  }\n\n  return <div className=\"StreamContainer\">\n    {banner && <BannerStream onClose={() => setBanner(false)} />}\n    <iframe title=\"Decentraland Stream\" src={props.src} width={size.width} height={size.height} allowFullScreen />\n  </div>\n}\n\nexport default connect(mapStateToProps)(StreamContainer)\n","import React, { useMemo } from 'react'\nimport 'semantic-ui-css/semantic.min.css'\nimport 'balloon-css/balloon.min.css'\nimport 'decentraland-ui/dist/themes/base-theme.css'\nimport 'decentraland-ui/dist/themes/alternative/light-theme.css'\nimport './App.css'\nimport { connect } from 'react-redux'\nimport { useMobileMediaQuery } from 'decentraland-ui/dist/components/Media'\nimport ErrorContainer from './errors/ErrorContainer'\nimport LoginContainer from './auth/LoginContainer'\nimport { Audio } from './common/Audio'\nimport { StoreType } from '../state/redux'\nimport { isElectron } from '../integration/desktop'\nimport { BeginnersGuide } from './auth/BeginnersGuide'\nimport { BigFooter } from './common/Layout/BigFooter'\nimport BannerContainer from './banners/BannerContainer'\nimport { LoadingRender } from './common/Loading/LoadingRender'\nimport { Navbar } from './common/Layout/Navbar'\nimport { FeatureFlags, getFeatureVariant } from '../state/selectors'\nimport StreamContainer from './common/StreamContainer'\nimport { isMobile } from '../integration/browser'\n\nfunction mapStateToProps(state: StoreType): AppProps {\n  return {\n    hasStream: !!getFeatureVariant(state, FeatureFlags.Stream),\n    hasBanner: !!state.banner.banner,\n    sessionReady: !!state.session?.ready,\n    rendererReady: !!state.renderer?.ready,\n    error: !!state.error.error,\n    sound: true // TODO: sound must be true after the first click\n  }\n}\n\nexport interface AppProps {\n  hasStream: boolean\n  hasBanner: boolean\n  sessionReady: boolean\n  rendererReady: boolean\n  error: boolean\n  sound: boolean\n}\n\nconst App: React.FC<AppProps> = (props) => {\n  const mobile = useMemo(() => isMobile(), [])\n  const small = useMobileMediaQuery()\n\n  if (props.hasStream && (small || mobile)) {\n    return <StreamContainer />\n  }\n\n  if (props.error) {\n    return <ErrorContainer />\n  }\n\n  if (props.rendererReady) {\n    return <React.Fragment />\n  }\n\n  if (props.sessionReady) {\n    return <LoadingRender />\n  }\n\n  return (\n    <div className={`WebsiteApp ${props.hasBanner ? 'withBanner' : ''}`}>\n      {!isElectron() && props.sound && <Audio track={`${process.env.PUBLIC_URL}/tone4.mp3`} play />}\n      <BannerContainer />\n      {!isElectron() && <Navbar /> }\n      <LoginContainer />\n      {!isElectron() && <BeginnersGuide /> }\n      {!isElectron() && <BigFooter /> }\n    </div>\n  )\n}\n\nexport default connect(mapStateToProps)(App)\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { configureRollbar, configureSegment } from './integration/analytics'\nimport { store } from './state/redux'\nimport { configureKernel, initializeKernel } from './integration/kernel'\nimport { initializeBrowserRecommendation } from './integration/browser'\nimport { initializeDesktopApp } from './integration/desktop'\nimport { initializeFeatureFlags } from './integration/featureFlags'\nimport App from './components/App'\n\nconfigureSegment()\nconfigureRollbar()\nconfigureKernel(store)\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')!,\n  () => {\n    initializeKernel()\n    initializeBrowserRecommendation()\n    initializeFeatureFlags()\n    initializeDesktopApp()\n  }\n)\n","import { AnyAction } from 'redux'\nimport { connection } from 'decentraland-connect'\nimport { KernelResult, KernelError, LoginState, KernelAccountState } from '@dcl/kernel-interface'\nimport {\n  SET_BANNER,\n  SET_DOWNLOAD_PROGRESS,\n  SET_DOWNLOAD_NEW_VERSION,\n  SET_DOWNLOAD_READY,\n  SET_KERNEL_ACCOUNT_STATE,\n  SET_KERNEL_ERROR,\n  SET_KERNEL_LOADED,\n  SET_RENDERER_LOADING,\n  SET_RENDERER_READY,\n  SET_RENDERER_VISIBLE,\n  SET_FEATURE_FLAGS\n} from './actions'\nimport {\n  KernelState,\n  SessionState,\n  RendererState,\n  ErrorState,\n  BannerState,\n  DownloadState,\n  DownloadCurrentState,\n  FeatureFlagsState\n} from './redux'\nimport { v4 } from 'uuid'\nimport { errorToString } from '../utils/errorToString'\nimport { isElectron } from '../integration/desktop'\nimport { defaultFeatureFlagsState } from './types'\n\nexport function kernelReducer(state: KernelState | undefined, action: AnyAction): KernelState {\n  if (action.type === SET_KERNEL_LOADED) {\n    return { ...state, ready: true, kernel: action.payload as KernelResult }\n  }\n  return (\n    state || {\n      ready: false,\n      kernel: null\n    }\n  )\n}\n\nconst defaultSession: SessionState = {\n  sessionId: v4(),\n  connection: null,\n  kernelState: null,\n  ready: false\n}\n\nexport function sessionReducer(state: SessionState | undefined, action: AnyAction): SessionState {\n  if (!state) return defaultSession\n\n  if (action.type === SET_KERNEL_ACCOUNT_STATE) {\n    const kernelState = action.payload as KernelAccountState\n    const ready =\n      kernelState.loginStatus === LoginState.SIGN_UP ||\n      kernelState.loginStatus === LoginState.WAITING_PROFILE ||\n      kernelState.loginStatus === LoginState.COMPLETED\n\n    return {\n      ...state,\n      connection: connection.getConnectionData() || null,\n      kernelState,\n      ready\n    }\n  }\n\n  return state\n}\n\nexport function rendererReducer(state: RendererState | undefined, action: AnyAction): RendererState {\n  if (state && action.type === SET_RENDERER_READY) {\n    return { ...state, ready: action.payload.ready }\n  }\n  if (state && action.type === SET_RENDERER_VISIBLE) {\n    return { ...state, visible: action.payload.visible }\n  } else if (state && action.type === SET_RENDERER_LOADING) {\n    return { ...state, loading: action.payload }\n  }\n  return (\n    state || {\n      ready: false,\n      version: 'latest',\n      visible: false,\n      loading: null\n    }\n  )\n}\n\nexport function errorReducer(state: ErrorState | undefined, action: AnyAction): ErrorState {\n  if (action.type === SET_KERNEL_ERROR) {\n    const payload: KernelError = action.payload\n\n    if (!payload) {\n      return { error: null }\n    }\n\n    return {\n      error: {\n        details: errorToString(payload.error),\n        type: payload.code as any\n      }\n    }\n  }\n\n  return state || { error: null }\n}\n\nexport function bannerReducer(state: BannerState | undefined, action: AnyAction): BannerState {\n  if (action.type === SET_BANNER) {\n    return { banner: action.payload.banner }\n  }\n\n  return state || { banner: null }\n}\n\nexport function downloadReducer(state: DownloadState | undefined, action: AnyAction): DownloadState {\n  const defaultDownload: DownloadState = {\n    progress: 0,\n    currentState: DownloadCurrentState.NONE,\n    authCompleted: false,\n    ready: false\n  }\n\n  if (!isElectron()) {\n    return state || defaultDownload\n  }\n\n  state = state || defaultDownload\n\n  if (action.type === SET_DOWNLOAD_PROGRESS) {\n    state = { ...state, progress: action.payload.progress, currentState: DownloadCurrentState.DOWNLOADING }\n  } else if (action.type === SET_DOWNLOAD_READY) {\n    state = { ...state, progress: action.payload.progress, currentState: DownloadCurrentState.READY }\n  } else if (action.type === SET_DOWNLOAD_NEW_VERSION) {\n    state = { ...state, progress: action.payload.progress, currentState: DownloadCurrentState.NEW_VERSION }\n  }\n\n  if (action.type === SET_KERNEL_ACCOUNT_STATE) {\n    if (action.payload.loginStatus === LoginState.WAITING_RENDERER) {\n      state = { ...state, authCompleted: true }\n    }\n  }\n\n  if (state.authCompleted && state.currentState === DownloadCurrentState.READY) {\n    const ipcRenderer = (window as any).electron.ipcRenderer\n    ipcRenderer.send('executeProcess')\n    state = { ...state, currentState: DownloadCurrentState.EXECUTED, ready: true }\n  }\n\n  return state\n}\n\nexport function featureFlagsReducer(\n  state: FeatureFlagsState = defaultFeatureFlagsState,\n  action: AnyAction\n): FeatureFlagsState {\n  if (action.type === SET_FEATURE_FLAGS) {\n    const result: FeatureFlagsState = action.payload\n    return {\n      ...state,\n      flags: {\n        ...state.flags,\n        ...result.flags\n      },\n      variants: {\n        ...state.variants,\n        ...result.variants\n      }\n    }\n  }\n\n  return state\n}\n","import { combineReducers, createStore } from 'redux'\nimport { KernelAccountState, KernelResult, KernelLoadingProgress } from '@dcl/kernel-interface'\nimport { FeatureFlagsResult } from '@dcl/feature-flags'\nimport { kernelReducer, sessionReducer, rendererReducer, errorReducer, bannerReducer, downloadReducer, featureFlagsReducer } from './reducers'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { ConnectionData } from 'decentraland-connect/dist/types'\n\nexport type KernelState = {\n  ready: boolean\n  kernel: KernelResult | null\n}\n\nexport type RendererState = {\n  ready: boolean\n  visible: boolean\n  version: string\n  loading: KernelLoadingProgress | null\n}\n\nexport type SessionState = {\n  // It is important that this ID is autogenerated in every user session (reload)\n  // and it _never_ changes during the session\n  sessionId: string\n  kernelState: KernelAccountState | null\n  connection: ConnectionData | null\n  ready: boolean\n}\n\nexport type ErrorState = {\n  error: {\n    type: string | ErrorType\n    details: string\n  } | null\n}\n\nexport enum ErrorType {\n  LOADING = 'loading',\n  FATAL = 'fatal',\n  COMMS = 'comms',\n  NEW_LOGIN = 'newlogin',\n  NOT_MOBILE = 'nomobile',\n  NOT_SUPPORTED = 'notsupported',\n  NET_MISMATCH = 'networkmismatch',\n  AVATAR_ERROR = 'avatarerror',\n  METAMASK_LOCKED = 'METAMASK_LOCKED'\n}\n\nexport type BannerState = {\n  banner: BannerType | null\n}\n\nexport enum BannerType {\n  NOT_RECOMMENDED = 'notrecommended',\n}\n\nexport enum DownloadCurrentState {\n  NONE = 'none',\n  NEW_VERSION = 'new_version',\n  DOWNLOADING = 'downloading',\n  READY = 'ready',\n  EXECUTED = 'executed'\n}\n\nexport type DownloadState = {\n  currentState: DownloadCurrentState\n  progress: number\n  authCompleted: boolean\n  ready: boolean\n}\n\nexport type FeatureFlagsState = FeatureFlagsResult\n\nexport type StoreType = {\n  kernel: KernelState\n  renderer: RendererState\n  session: SessionState\n  error: ErrorState\n  banner: BannerState\n  download: DownloadState\n  featureFlags: FeatureFlagsState\n}\n\nconst reducers = combineReducers<StoreType>({\n  kernel: kernelReducer,\n  session: sessionReducer,\n  renderer: rendererReducer,\n  error: errorReducer,\n  banner: bannerReducer,\n  download: downloadReducer,\n  featureFlags: featureFlagsReducer,\n})\n\nconst middleware: typeof composeWithDevTools =\n  process.env.NODE_ENV !== 'production' ? composeWithDevTools : (x: any) => x\n\nexport const store = createStore(reducers, {}, middleware())\n","import { action } from 'typesafe-actions'\nimport {\n  IEthereumProvider,\n  KernelAccountState,\n  KernelError,\n  KernelLoadingProgress,\n  KernelResult\n} from '@dcl/kernel-interface'\nimport { BannerType } from './redux'\nimport { FeatureFlagsResult } from '@dcl/feature-flags'\n\nexport const KERNEL_AUTHENTICATE = '[Authenticate]'\nexport const KERNEL_LOGOUT_REQUEST = '[Logout]'\nexport const SET_KERNEL_ACCOUNT_STATE = 'Set kernel account state'\nexport const SET_KERNEL_ERROR = 'Set kernel error'\nexport const SET_KERNEL_LOADED = 'Set kernel loaded'\nexport const SET_BANNER = 'Set banenr'\n\nexport const SET_RENDERER_LOADING = 'Set renderer loading'\nexport const SET_RENDERER_READY = 'Set renderer ready'\nexport const SET_RENDERER_VISIBLE = 'Set renderer visible'\n\nexport const SET_DOWNLOAD_PROGRESS = '[DownloadProgress]'\nexport const SET_DOWNLOAD_READY = '[DownloadReady]'\nexport const SET_DOWNLOAD_NEW_VERSION = '[DownloadNewVersion]'\n\nexport const SET_FEATURE_FLAGS = 'Set feature flags'\n\nexport const setKernelAccountState = (accountState: KernelAccountState) =>\n  action(SET_KERNEL_ACCOUNT_STATE, accountState)\nexport const setKernelError = (error: KernelError | null) => action(SET_KERNEL_ERROR, error)\nexport const setKernelLoaded = (kernel: KernelResult) => action(SET_KERNEL_LOADED, kernel)\nexport const setRendererLoading = (progressEvent: KernelLoadingProgress) => action(SET_RENDERER_LOADING, progressEvent)\nexport const setRendererReady = (ready: boolean) => action(SET_RENDERER_READY, { ready })\nexport const setRendererVisible = (visible: boolean) => action(SET_RENDERER_VISIBLE, { visible })\nexport const setBanner = (banner: BannerType | null) => action(SET_BANNER, { banner })\n\nexport const setDownloadProgress = (progress: number) => action(SET_DOWNLOAD_PROGRESS, { progress })\nexport const setDownloadReady = () => action(SET_DOWNLOAD_READY, { })\nexport const setDownloadNewVersion = () => action(SET_DOWNLOAD_NEW_VERSION, { })\n\nexport const setFeatureFlags = (result: FeatureFlagsResult) => action(SET_FEATURE_FLAGS, result)\n\nexport const authenticate = (provider: IEthereumProvider, isGuest: boolean) =>\n  action(KERNEL_AUTHENTICATE, { provider, isGuest })\n\nexport const logout = (options: Partial<{reload: boolean }> = {}) => action(KERNEL_LOGOUT_REQUEST, options)","import { disconnect, getEthereumProvider, restoreConnection } from '../eth/provider'\nimport { internalTrackEvent, identifyUser, trackError, disableAnalytics } from '../integration/analytics'\nimport { injectKernel } from './injector'\nimport {\n  setKernelAccountState,\n  setKernelError,\n  setRendererLoading,\n  setKernelLoaded,\n  setRendererReady\n} from '../state/actions'\nimport { ErrorType, store } from '../state/redux'\nimport { ProviderType } from '@dcl/schemas/dist/dapps/provider-type'\nimport { FeatureFlagsResult, fetchFlags } from '@dcl/feature-flags'\nimport { resolveUrlFromUrn } from '@dcl/urn-resolver'\nimport { defaultWebsiteErrorTracker, track } from '../utils/tracking'\nimport { injectVersions } from '../utils/rolloutVersions'\nimport { KernelResult } from '@dcl/kernel-interface'\nimport { ENV, NETWORK } from '../integration/queryParamsConfig'\nimport { RequestManager } from 'eth-connect'\nimport { errorToString } from '../utils/errorToString'\nimport { isElectron, launchDesktopApp } from '../integration/desktop'\nimport { setAsRecentlyLoggedIn } from '../integration/browser'\n\n// this function exists because decentraland-connect seems to return\n// invalid or cached values in chainId, ignoring network changes in the\n// real provider.\nasync function getChainIdFromProvider(provider: any) {\n  const rm = new RequestManager(provider)\n  return parseInt(await rm.net_version(), 10)\n}\n\nfunction getWantedChainId() {\n  let chainId = 1 // mainnet\n\n  if (NETWORK === 'ropsten') {\n    chainId = 3\n  }\n\n  return chainId\n}\n\nexport async function authenticate(providerType: ProviderType | null) {\n  try {\n    const wantedChainId = getWantedChainId()\n\n    const { provider, chainId: providerChainId } = await getEthereumProvider(providerType, wantedChainId)\n\n    if (providerChainId !== wantedChainId) {\n      store.dispatch(\n        setKernelError({\n          error: new Error(\n            `Network mismatch NETWORK url param is not equal to the provided by Ethereum Provider (wanted: ${wantedChainId} actual: ${providerChainId}, E01)`\n          ),\n          code: ErrorType.NET_MISMATCH\n        })\n      )\n      return\n    }\n\n    {\n      const providerChainId = await getChainIdFromProvider(provider)\n      if (providerChainId !== wantedChainId) {\n        store.dispatch(\n          setKernelError({\n            error: new Error(\n              `Network mismatch NETWORK url param is not equal to the provided by Ethereum Provider (wanted: ${wantedChainId} actual: ${providerChainId}, E02)`\n            ),\n            code: ErrorType.NET_MISMATCH\n          })\n        )\n        return\n      }\n    }\n\n    const kernel = store.getState().kernel.kernel\n\n    if (!kernel) throw new Error('Kernel did not load yet')\n\n    setAsRecentlyLoggedIn()\n\n    kernel.authenticate(provider, providerType == null /* isGuest */)\n  } catch (err) {\n    if (\n      err &&\n      typeof err === 'object' &&\n      ['Fortmatic: User denied account access.', 'The user rejected the request.'].includes(err.message)\n    ) {\n      return\n    }\n\n    if (\n      err &&\n      typeof err === 'object' &&\n      typeof err.message == 'string' &&\n      (err.message.includes('Already processing eth_requestAccounts.') || err.message.includes('Please wait.'))\n    ) {\n      // https://github.com/decentraland/explorer-website/issues/46\n      store.dispatch(\n        setKernelError({\n          error: new Error('Metamask is locked, please open the extension before continuing.'),\n          code: ErrorType.METAMASK_LOCKED\n        })\n      )\n      return\n    }\n\n    // If something went wrong, disconnect to prevent future errors next reload\n    disconnect().catch(defaultWebsiteErrorTracker)\n\n    defaultWebsiteErrorTracker(err)\n\n    store.dispatch(\n      setKernelError({\n        error: err\n      })\n    )\n  }\n}\n\ntype RolloutRecord = {\n  version: string\n  percentage: number\n  prefix: string\n}\n\ndeclare var globalThis: {\n  KERNEL_BASE_URL?: string\n  RENDERER_BASE_URL?: string\n  ROLLOUTS?: Record<string, RolloutRecord>\n}\n\nglobalThis.KERNEL_BASE_URL = process.env.REACT_APP_KERNEL_BASE_URL\nglobalThis.RENDERER_BASE_URL = process.env.REACT_APP_RENDERER_BASE_URL\n\nasync function resolveBaseUrl(urn: string): Promise<string> {\n  if (urn.startsWith('urn:')) {\n    const t = await resolveUrlFromUrn(urn)\n    if (t) {\n      return (t + '/').replace(/(\\/)+$/, '/')\n    }\n    throw new Error('Cannot resolve content for URN ' + urn)\n  }\n  return (new URL(`${urn}`, global.location.toString()).toString() + '/').replace(/(\\/)+$/, '/')\n}\n\nfunction cdnFromRollout(rollout: RolloutRecord): string {\n  return cdnFromPrefixVersion(rollout.prefix, rollout.version)\n}\n\nfunction cdnFromPrefixVersion(prefix: string, version: string): string {\n  return `https://cdn.decentraland.org/${prefix}/${version}`\n}\n\nasync function getVersions(flags: FeatureFlagsResult) {\n  const qs = new URLSearchParams(document.location.search)\n\n  // 1. load from ROLLOUTS + CDN\n  if (globalThis.ROLLOUTS && globalThis.ROLLOUTS['@dcl/kernel']) {\n    globalThis.KERNEL_BASE_URL = cdnFromRollout(globalThis.ROLLOUTS['@dcl/kernel'])\n  }\n  if (globalThis.ROLLOUTS && globalThis.ROLLOUTS['@dcl/unity-renderer']) {\n    globalThis.RENDERER_BASE_URL = cdnFromRollout(globalThis.ROLLOUTS['@dcl/unity-renderer'])\n  }\n\n  // 2. load from URN/URL PARAM\n  if (qs.has('renderer')) {\n    globalThis.RENDERER_BASE_URL = qs.get('renderer')!\n  }\n  if (qs.has('kernel-urn')) {\n    globalThis.KERNEL_BASE_URL = qs.get('kernel-urn')!\n  }\n\n  // 3. load hot-branch\n  if (qs.has('renderer-branch')) {\n    globalThis.RENDERER_BASE_URL = `https://renderer-artifacts.decentraland.org/branch/${qs.get('renderer-branch')!}`\n  }\n  if (qs.has('kernel-branch')) {\n    globalThis.KERNEL_BASE_URL = `https://sdk-team-cdn.decentraland.org/@dcl/kernel/branch/${qs.get('kernel-branch')!}`\n  }\n\n  // 4. specific cdn versions\n  if (qs.has('renderer-version')) {\n    globalThis.RENDERER_BASE_URL = cdnFromPrefixVersion('@dcl/unity-renderer', qs.get('renderer-version')!)\n  }\n  if (qs.has('kernel-version')) {\n    globalThis.KERNEL_BASE_URL = cdnFromPrefixVersion('@dcl/kernel', qs.get('kernel-version')!)\n  }\n\n  // default fallback\n  if (!globalThis.KERNEL_BASE_URL) {\n    if (flags.variants['explorer-rollout-kernel-version']) {\n      const version = flags.variants['explorer-rollout-kernel-version'].name\n      globalThis.KERNEL_BASE_URL = `urn:decentraland:off-chain:kernel-cdn:${version}`\n    }\n  }\n\n  if (!globalThis.RENDERER_BASE_URL) {\n    if (flags.variants['explorer-rollout-unity-renderer-version']) {\n      const version = flags.variants['explorer-rollout-unity-renderer-version'].name\n      globalThis.RENDERER_BASE_URL = `urn:decentraland:off-chain:unity-renderer-cdn:${version}`\n    }\n  }\n}\n\nasync function initKernel() {\n  const container = document.getElementById('gameContainer') as HTMLDivElement\n\n  const flags = await fetchFlags({ applicationName: 'explorer' })\n\n  await getVersions(flags)\n\n  const kernel = await injectKernel({\n    kernelOptions: {\n      baseUrl: await resolveBaseUrl(globalThis.KERNEL_BASE_URL || `urn:decentraland:off-chain:kernel-cdn:latest`),\n      configurations: {}\n    },\n    rendererOptions: {\n      container,\n      baseUrl: await resolveBaseUrl(\n        globalThis.RENDERER_BASE_URL || `urn:decentraland:off-chain:unity-renderer-cdn:latest`\n      )\n    }\n  })\n\n  kernel.on('trackingEvent', ({ eventName, eventData }) => {\n    internalTrackEvent(eventName, { ...eventData, context: eventData.context || 'kernel' })\n  })\n\n  kernel.on('openUrl', ({ url }) => {\n    const newWindow = window.open(url, '_blank', 'noopener,noreferrer')\n    if (newWindow != null) newWindow.opener = null\n  })\n\n  let isGuest = true\n  let lastIdentity: string | null = null\n  let email: string | undefined = undefined\n\n  function identify() {\n    if (lastIdentity) {\n      identifyUser(lastIdentity, isGuest, email)\n    }\n  }\n\n  kernel.on('accountState', (account) => {\n    if (account.identity) {\n      isGuest = !!account.isGuest\n      lastIdentity = account.identity.address\n      identify()\n    }\n\n    store.dispatch(setKernelAccountState(account))\n  })\n\n  kernel.on('signUp', (data) => {\n    email = data.email\n    identify()\n  })\n\n  // all errors are also sent as trackingEvent\n  kernel.on('error', (error) => {\n    store.dispatch(setKernelError(error))\n\n    // TODO: move this into a saga for setKernelError\n    trackError(error.error, { context: 'kernel', ...(error.extra || {}) })\n\n    // trackError only sends information to rollbar, we must get statistical information of errors in segment\n    // via this track() function\n    track('explorer_kernel_error', {\n      // this string concatenation exists on purpose, it is a safe way to do (error).toString in case (error) is nullish\n      error: errorToString(error)\n    })\n\n    // since setKernelError(error) produces an unrecoverable black screen of death, we disable analytics\n    disableAnalytics()\n  })\n\n  kernel.on('rendererVisible', (event) => {\n    store.dispatch(setRendererReady(event.visible))\n\n    // TODO: move this into a saga for setRendererReady\n    // if the kernel and renderer decides to load, we cleanup the error window\n    if (event.visible) {\n      track('enable_renderer', {})\n      store.dispatch(setKernelError(null))\n    }\n  })\n\n  kernel.on('loadingProgress', (event) => {\n    store.dispatch(setRendererLoading(event))\n  })\n\n  kernel.on('logout', () => {\n    disconnect().catch(defaultWebsiteErrorTracker)\n  })\n\n  return kernel\n}\n\nasync function initLogin(kernel: KernelResult) {\n  if (!isElectron()) {\n    const provider = await restoreConnection()\n    if (provider && provider.account) {\n      const providerChainId = await getChainIdFromProvider(provider.provider)\n\n      // BUG OF decentraland-connect:\n      // provider.chainId DOES NOT reflect the selected chain in the real provider\n      const storedSession = await kernel.hasStoredSession(provider.account, providerChainId /* provider.chainId */)\n\n      if (storedSession) {\n        track('automatic_relogin', { provider_type: provider.providerType })\n        authenticate(provider.providerType).catch(defaultWebsiteErrorTracker)\n      }\n    }\n  }\n}\n\nexport function startKernel() {\n  if (NETWORK && NETWORK !== 'mainnet' && NETWORK !== 'ropsten') {\n    store.dispatch(\n      setKernelError({\n        error: new Error(`Invalid NETWORK url param, valid options are 'ropsten' and 'mainnet'`),\n        code: ErrorType.FATAL\n      })\n    )\n    return\n  }\n\n  if (ENV) {\n    store.dispatch(\n      setKernelError({\n        error: new Error(\n          `The \"ENV\" URL parameter is no longer supported. Please use NETWORK=ropsten in the cases where ENV=zone was used`\n        ),\n        code: ErrorType.FATAL\n      })\n    )\n    return\n  }\n\n  if (isElectron()) {\n    if ((window as any).require) {\n      store.dispatch(\n        setKernelError({\n          error: new Error(\n            `You're using an old version of Decentraland Desktop. Please update it from https://github.com/decentraland/explorer-desktop-launcher/releases`\n          ),\n          code: ErrorType.FATAL\n        })\n      )\n      return\n    }\n  }\n\n  track('initialize_versions', injectVersions({}))\n\n  launchDesktopApp()\n    .then((launched) => {\n      if (launched) {\n        track('desktop_launched')\n      }\n\n      return initKernel()\n        .then((kernel) => {\n          store.dispatch(setKernelLoaded(kernel))\n          if (!launched) {\n            return initLogin(kernel)\n          }\n        })\n        .catch((error) => {\n          store.dispatch(setKernelError({ error }))\n          defaultWebsiteErrorTracker(error)\n        })\n    })\n}\n","// this function injects rollout versions to records based on the rollouts\n// {a: asd} -> {a: asd, _site: 1.0.0, @dcl/unity-renderer: 6.0.0}\nexport function injectVersions<T extends Record<string, any>>(versions: T): T & Record<string, string> {\n  var rolloutsInfo = (globalThis as any).ROLLOUTS || {}\n\n  for (let component in rolloutsInfo) {\n    if (component === '_site' || component.startsWith('@dcl')) {\n      if (rolloutsInfo[component] && rolloutsInfo[component].version) {\n        versions[component as keyof T] = rolloutsInfo[component].version\n      }\n    }\n  }\n\n  return versions\n}\n","import { setDownloadNewVersion, setDownloadProgress, setDownloadReady, setKernelError } from '../state/actions'\nimport { store } from '../state/redux'\nimport { callOnce } from '../utils/callOnce'\nimport { getCurrentPosition, hasRecentlyLoggedIn, isMobile } from './browser'\n\nexport const isElectron = callOnce((): boolean => {\n  // Renderer process\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.process === 'object' &&\n    (window.process as any).type === 'renderer'\n  ) {\n    return true\n  }\n\n  // Main process\n  if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!(process.versions as any).electron) {\n    return true\n  }\n\n  // Detect the user agent when the `nodeIntegration` option is set to true\n  if (\n    typeof navigator === 'object' &&\n    typeof navigator.userAgent === 'string' &&\n    navigator.userAgent.indexOf('Electron') >= 0\n  ) {\n    return true\n  }\n\n  return false\n})\n\nexport const initializeDesktopApp = callOnce(() => {\n  if (isElectron() && (window as any).electron) {\n    const ipcRenderer = (window as any).electron.ipcRenderer\n\n    ipcRenderer.on('downloadState', (event: any, payload: any): any => {\n      switch (payload.type) {\n        case 'ERROR':\n          store.dispatch(\n            setKernelError({\n              error: new Error(payload.message || 'Unknown launcher error')\n            })\n          )\n          break\n        case 'NEW_VERSION':\n          store.dispatch(setDownloadNewVersion())\n          event.sender.send('download')\n          break\n        case 'READY':\n          store.dispatch(setDownloadReady())\n          break\n        case 'PROGRESS':\n          store.dispatch(setDownloadProgress(payload.progress))\n          break\n      }\n    })\n\n    ipcRenderer.send('checkVersion')\n    console.log('Electron found')\n  }\n})\n\n/**\n * Try to launch the desktop version using the custom protocol `dcl://position=x,y&realm=zzz`\n * and return a boolean that represents if a loss of focus was detected on the current window\n * (assuming it was due to the interaction generated by the desktop version)\n */\nexport async function launchDesktopApp() {\n  // prevent launch for desktop and mobile\n  if (isElectron() || isMobile()) {\n    return false\n  }\n\n  // prevent launch if the user logged in into the web version recently\n  if (hasRecentlyLoggedIn()) {\n    return false\n  }\n\n  // build custom protocol target using current url `position` and `realm`\n  const data = getCurrentPosition()\n  let customProtocolParams: string [] = []\n  if (data.position) {\n    customProtocolParams.push(`position=${data.position}`)\n  }\n\n  if (data.realm) {\n    customProtocolParams.push(`realm=${data.realm}`)\n  }\n\n  const customProtocolTarget = `dcl://${customProtocolParams.join('&')}`\n\n  // assume that the desktop version is installed only if\n  // we detect a loss of focus on window\n  let installed = false\n  const isInstalled = () => { installed = true }\n  window.addEventListener('blur', isInstalled);\n\n  // inject an iframe that open the desktop version\n  // NOTE: this can be also achieved with\n  // ```js\n  //   window.location.href = customProtocolTarget\n  // ```\n  // but in safari redirects into an invalid url if the desktop\n  // client is not installed\n  const iframe = document.createElement('iframe')\n  iframe.setAttribute('style', 'display: none')\n  iframe.src = customProtocolTarget\n  document.body.appendChild(iframe)\n\n  // wait half of a second to detect the loss of focus because\n  // the time it takes for the `blur` event to be fired varies\n  // depending on the browser\n  return new Promise<boolean>((resolve) => {\n    setTimeout(() => {\n      window.removeEventListener('blur', isInstalled)\n      document.body.removeChild(iframe)\n      resolve(installed)\n    }, 500);\n  })\n}\n","import { TrackingEvents } from '../trackingEvents'\nimport { internalTrackEvent, trackError } from '../integration/analytics'\nimport { errorToString } from './errorToString'\nimport { callOnce } from './callOnce'\nimport { isRecommendedBrowser } from '../integration/browser'\nimport { RENDERER_TYPE } from '../integration/queryParamsConfig'\n\n// declare var ethereum: Record<string, boolean>\nconst ethereum = (window as any).ethereum\nconst rollouts = (window as any).ROLLOUTS\n\nconst getWalletName = callOnce(() => {\n  if (!ethereum) {\n    return 'none'\n  } else if (ethereum?.isMetaMask) {\n    return 'metamask'\n  } else if (ethereum?.isDapper) {\n    return 'dapper'\n  } else if (ethereum?.isCucumber) {\n    return 'cucumber'\n  } else if (ethereum?.isTrust) {\n    return 'trust'\n  } else if (ethereum?.isToshi) {\n    return 'coinbase'\n  } else if (ethereum?.isGoWallet) {\n    return 'goWallet'\n  } else if (ethereum?.isAlphaWallet) {\n    return 'alphaWallet'\n  } else if (ethereum?.isStatus) {\n    return 'status'\n  } else {\n    return 'other'\n  }\n})\n\nconst getWalletProps = callOnce(() => {\n  if (!ethereum) {\n    return ''\n  }\n\n  return Object.keys(ethereum)\n    .filter((prop) => prop.startsWith('is') && typeof ethereum![prop] === 'boolean')\n    .join(',')\n})\n\nconst getEnvironmentProperties = callOnce(() => {\n  const properties: Record<string, string> = {\n    rendererType: RENDERER_TYPE\n  }\n\n  if (rollouts) {\n    for (const rollout of Object.keys(rollouts)) {\n      const lib = rollouts[rollout]\n      if (lib && lib.prefix && lib.version) {\n        properties[lib.prefix || rollout] = lib.version\n      }\n    }\n  }\n\n  return properties\n})\n\n\n\n/**\n * The only function used by this react app to track its own events.\n * Please do not use internalTrackEvent directly, it is meant to be used by kernel\n * and this function adds relevant information and proper types.\n */\nexport function track<E extends keyof TrackingEvents>(event: E, properties?: TrackingEvents[E]) {\n  const wallet = getWalletName()\n  const walletProps = getWalletProps()\n  const recommendedBrowser = isRecommendedBrowser()\n  const environmentProperties = getEnvironmentProperties()\n  internalTrackEvent(event, { wallet, walletProps, recommendedBrowser, ...properties, ...environmentProperties })\n}\n\n\n/**\n * Default \"catch\" for promises and to print errors in the console.\n */\nexport function defaultWebsiteErrorTracker(error: any) {\n  console.error(error)\n  trackError(error, { context: 'explorer-website' })\n  track('explorer_website_error', {\n    // this string concatenation exists on purpose, it is a safe way to do (error).toString in case (error) is nullish\n    error: errorToString(error)\n  })\n}\n","import future from 'fp-future'\nimport { KernelOptions, KernelResult, IDecentralandKernel } from '@dcl/kernel-interface'\n\nexport async function injectKernel(options: KernelOptions): Promise<KernelResult> {\n  const kernelUrl = new URL(`index.js`, options.kernelOptions.baseUrl).toString()\n\n  await injectScript(kernelUrl)\n\n  console.log('Kernel: ', kernelUrl)\n\n  const DecentralandKernel: IDecentralandKernel = (globalThis as any).DecentralandKernel\n\n  if (!DecentralandKernel) throw new Error('DecentralandKernel could not be loaded')\n\n  return await DecentralandKernel.initKernel(options)\n}\n\nasync function injectScript(url: string) {\n  const theFuture = future<Event>()\n  const theScript = document.createElement('script')\n  const persistMessage =\n    'If this error persists, please try emptying the cache of your browser and reloading this page.'\n  theScript.src = url\n  theScript.async = true\n  theScript.type = 'application/javascript'\n  theScript.crossOrigin = 'anonymous'\n  theScript.addEventListener('load', theFuture.resolve)\n  theScript.addEventListener('error', (e) =>\n    theFuture.reject(e.error || new Error(`The script ${url} failed to load.\\n${persistMessage}`))\n  )\n  theScript.addEventListener('abort', () =>\n    theFuture.reject(\n      new Error(\n        `Script loading aborted: ${url}.\\nThis may be caused because you manually stopped the loading or because of a network error.\\n${persistMessage}`\n      )\n    )\n  )\n  document.body.appendChild(theScript)\n  return theFuture\n}\n","const qs = new URLSearchParams(document.location.search || '')\n\nexport const DEBUG_ANALYTICS = qs.has('DEBUG_ANALYTICS')\nexport const ENV = qs.get('ENV')\nexport const NETWORK = qs.get('NETWORK')\nexport const RENDERER_TYPE = qs.get('ws') ? 'native' : 'web'","import { detect } from \"detect-browser\"\nimport { setBanner } from \"../state/actions\"\nimport { BannerType, store } from \"../state/redux\"\nimport { callOnce } from \"../utils/callOnce\"\n\nexport const initializeBrowserRecommendation = callOnce(() => {\n  if (!isRecommendedBrowser()) {\n    store.dispatch(setBanner(BannerType.NOT_RECOMMENDED))\n  }\n})\n\nexport const isMobile = callOnce(() => {\n  if (/Mobi/i.test(navigator.userAgent) || /Android/i.test(navigator.userAgent)) {\n    return true\n  }\n\n  if (/iPad|iPhone|iPod/.test(navigator.platform)) {\n    return true\n  }\n\n  if (/Macintosh/i.test(navigator.userAgent) && navigator.maxTouchPoints && navigator.maxTouchPoints > 1) {\n    // iPad pro\n    return true\n  }\n\n  return false\n})\n\nexport const isRecommendedBrowser = callOnce(() => {\n  const detected = detect(navigator.userAgent)\n\n  if (!detected) {\n    return false\n  }\n\n  switch (detected.name) {\n    case 'chrome':\n    case 'chromium-webview':\n    case 'edge-chromium':\n    case 'firefox':\n      return true\n\n    default:\n      return false\n  }\n})\n\nconst BROWSER_LAST_SESSION_KEY = 'dcl-last-session-at'\nexport const BROWSER_LAST_SESSION_EXPIRATION = 1000 * 60 * 60 * 24 * 7 /* one week */\n\nexport const hasRecentlyLoggedIn = callOnce(() => {\n  const lastLoginAt = Number(localStorage.getItem(BROWSER_LAST_SESSION_KEY))\n  if (Number.isNaN(lastLoginAt)) {\n    return false\n  }\n\n  return lastLoginAt + BROWSER_LAST_SESSION_EXPIRATION > Date.now()\n})\n\nexport function setAsRecentlyLoggedIn() {\n  localStorage.setItem(BROWSER_LAST_SESSION_KEY, String(Date.now()))\n}\n\nexport function isWindows() {\n  if ((navigator as any).userAgentData?.platform === 'Windows') {\n    return true\n  }\n\n  if (/Windows/gi.test(navigator.userAgent)) {\n    return true\n  }\n\n  if (navigator.platform === 'Win32' || navigator.platform === 'Win64') {\n    return true\n  }\n\n  return false\n}\n\nexport type UserPosition = Partial<{\n  realm: string,\n  position: string,\n}>\n\nexport function getCurrentPosition() {\n  const data: UserPosition = {}\n  const qs = new URLSearchParams(globalThis.location.search || '')\n\n  // inject realm\n  if (qs.has('realm')) {\n    data.realm = qs.get('realm')!\n  }\n\n  // inject position\n  if (qs.has('position')) {\n    data.position = qs.get('position')!\n  }\n\n  return data\n}\n","export function callOnce<T>(fun: () => T): () => T {\n  let result: { value: T } | null = null\n  return () => {\n    if (!result) {\n      result = { value: fun() }\n    }\n\n    return result.value\n  }\n}","import { store } from '../state/redux'\nimport { getRequiredAnalyticsContext } from '../state/selectors'\nimport { errorToString } from '../utils/errorToString'\nimport { track } from '../utils/tracking'\nimport { getCurrentPosition } from './browser'\nimport { isElectron } from './desktop'\nimport { DEBUG_ANALYTICS, RENDERER_TYPE } from './queryParamsConfig'\n\nlet analyticsDisabled = false\n\nenum AnalyticsAccount {\n  PRD = '1plAT9a2wOOgbPCrTaU8rgGUMzgUTJtU',\n  DEV = 'a4h4BC4dL1v7FhIQKKuPHEdZIiNRDVhc'\n}\n\nenum RollbarAccount {\n  Web = '44963d3f89db4e5cbf552faba06c6ec0',\n  Desktop = '73e7ead7a15d4de3b26cecdda99b63c2'\n}\n\nconst authFlags = {\n  isAuthenticated: false,\n  isGuest: false,\n  afterFatalError: false\n}\n\n// TODO fill with segment keys and integrate identity server\nexport function configureSegment() {\n  // all decentraland.org domains are considered PRD\n  if (globalThis.location.host.endsWith('.decentraland.org')) {\n    return initialize(AnalyticsAccount.PRD)\n  }\n\n  return initialize(AnalyticsAccount.DEV)\n}\n\nfunction injectTrackingMetadata(payload: Record<string, any>): void {\n  Object.assign(payload, getCurrentPosition())\n  payload.dcl_is_authenticated = authFlags.isAuthenticated\n  payload.dcl_is_guest = authFlags.isGuest\n  payload.dcl_disabled_analytics = authFlags.afterFatalError\n  payload.dcl_renderer_type = RENDERER_TYPE\n}\n\nexport function configureRollbar() {\n  function rollbarTransformer(payload: Record<string, any>): void {\n    injectTrackingMetadata(payload)\n  }\n\n  const Rollbar = (window as any).Rollbar\n  const accessToken  = isElectron() ? RollbarAccount.Desktop : RollbarAccount.Web\n\n  if (Rollbar) {\n    Rollbar.configure({\n      accessToken,\n      transform: rollbarTransformer\n    })\n  }\n}\n\n// once this function is called, no more errors will be tracked neither reported to rollbar\nexport function disableAnalytics() {\n  track('disable_analytics', {})\n\n  authFlags.afterFatalError = true\n  analyticsDisabled = true\n\n  if ((window as any).Rollbar) {\n    ; (window as any).Rollbar.configure({ enabled: false })\n  }\n\n  if (DEBUG_ANALYTICS) {\n    console.info('explorer-website: DEBUG_ANALYTICS disableAnalytics')\n  }\n}\n\nexport function trackError(error: string | Error, payload?: Record<string, any>) {\n  if (analyticsDisabled) return\n\n  if (DEBUG_ANALYTICS) {\n    console.info('explorer-website: DEBUG_ANALYTICS trackCriticalError ', error)\n  }\n  if (!(window as any).Rollbar) return\n\n  if (typeof error === 'string') {\n    ; (window as any).Rollbar.critical(errorToString(error), payload)\n  } else if (error && error instanceof Error) {\n    ; (window as any).Rollbar.critical(\n      errorToString(error),\n      Object.assign(error, payload, { fullErrorStack: error.toString() })\n    )\n  } else {\n    ; (window as any).Rollbar.critical(errorToString(error), payload)\n  }\n}\n\nexport function identifyUser(address: string, isGuest: boolean, email?: string) {\n  authFlags.isGuest = isGuest\n  authFlags.isAuthenticated = !!address\n  if (window.analytics) {\n    const userTraits = {\n      sessionId: getRequiredAnalyticsContext(store.getState()).sessionId,\n      email\n    }\n\n    if (DEBUG_ANALYTICS) {\n      console.info('explorer-website: DEBUG_ANALYTICS identifyUser', address, userTraits)\n    }\n\n    if (isGuest) {\n      window.analytics.identify(userTraits)\n    } else {\n      window.analytics.identify(address, userTraits)\n    }\n  }\n}\n\nasync function initialize(segmentKey: string): Promise<void> {\n  if (window.analytics.load) {\n    // loading client for the first time\n    window.analytics.load(segmentKey)\n    window.analytics.page()\n    window.analytics.ready(() => {\n      window.analytics.timeout(1000)\n    })\n  }\n}\n\n// please use src/utils \"track\" function.\nexport function internalTrackEvent(eventName: string, eventData: Record<string, any>) {\n  if (!window.analytics || analyticsDisabled) {\n    return\n  }\n\n  const data = { ...eventData, ...getRequiredAnalyticsContext(store.getState()) }\n\n  injectTrackingMetadata(data)\n\n  if (DEBUG_ANALYTICS) {\n    console.info('explorer-website: DEBUG_ANALYTICS trackEvent', eventName, data)\n  }\n\n  window.analytics.track(eventName, data)\n}\n","\nexport function errorToString(error: any) {\n  if (typeof error === 'object') {\n    if (error.message) return error.message\n    if (error.toString() === '[object Object]') {\n      return JSON.stringify(error)\n    }\n    return error.toString()\n  }\n  if (typeof error === 'string') return error\n  return Object.prototype.toString.call(error)\n}","import { SessionTraits } from '../trackingEvents'\nimport { StoreType } from './redux'\nimport { defaultFeatureFlagsState, FF_APPLICATION_NAME } from './types'\n\n// This function is used for every rollbar and segment events.\nexport function getRequiredAnalyticsContext(state: StoreType): SessionTraits {\n  return {\n    sessionId: state.session.sessionId\n  }\n}\n\nexport enum FeatureFlags {\n  Stream = 'stream'\n}\n\nexport function isFeatureEnabled(state: StoreType, key: string): boolean {\n  const name = `${FF_APPLICATION_NAME}-${key}`\n  const ff = state.featureFlags || defaultFeatureFlagsState\n  return !!ff.flags[name]\n}\n\nexport function getFeatureVariant(state: StoreType, key: string, defaultValue: string | undefined = undefined) {\n  if (isFeatureEnabled(state, key)) {\n    const name = `${FF_APPLICATION_NAME}-${key}`\n    const variant = state.featureFlags.variants[name]\n    if (variant?.payload?.value) {\n      return variant?.payload?.value\n    }\n  }\n\n  return defaultValue\n}\n","import { connection, ConnectionResponse } from 'decentraland-connect'\nimport { WebSocketProvider } from 'eth-connect'\nimport { ChainId } from '@dcl/schemas/dist/dapps/chain-id'\nimport { ProviderType } from '@dcl/schemas/dist/dapps/provider-type'\nimport { IEthereumProvider } from '@dcl/kernel-interface'\nimport { defaultWebsiteErrorTracker } from '../utils/tracking'\n\nexport const chainIdRpc = new Map<number, string>([\n  [1, 'wss://mainnet.infura.io/ws/v3/31afa49f0c87489d9ec71eba2808b63f'],\n  [3, 'wss://ropsten.infura.io/ws/v3/31afa49f0c87489d9ec71eba2808b63f']\n])\n\nexport async function getEthereumProvider(\n  type: ProviderType | null,\n  chainId: ChainId\n): Promise<{ provider: IEthereumProvider; chainId: number }> {\n  if (type === null) {\n    const rpc = chainIdRpc.get(chainId)\n    if (!rpc) throw new Error(\"Can't get RPC for chainId \" + chainId)\n    return {\n      provider: new WebSocketProvider(rpc),\n      chainId\n    }\n  }\n\n  const result = await connection.connect(type, chainId)\n  return { provider: result.provider, chainId: result.chainId }\n}\n\nexport async function restoreConnection(): Promise<ConnectionResponse | null> {\n  try {\n    return await Promise.race<ConnectionResponse | null>([\n      connection.tryPreviousConnection(),\n      new Promise((_, reject) => setTimeout(() => reject('Connection timeout'), 10 * 1000)) as any\n    ])\n  } catch (err) {\n    return null\n  }\n}\n\nexport async function disconnect(): Promise<void> {\n  try {\n    return await connection.disconnect()\n  } catch (err) {\n    defaultWebsiteErrorTracker(err)\n    return\n  }\n}\n","import { FeatureFlagsState } from \"./redux\"\n\nexport const FF_APPLICATION_NAME = 'explorer'\n\nexport const defaultFeatureFlagsState: FeatureFlagsState = {\n  flags: {},\n  variants: {}\n}\n"],"sourceRoot":""}